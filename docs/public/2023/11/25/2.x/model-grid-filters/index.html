<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="查询过滤model-grid提供了一系列的方法实现表格数据的查询过滤： 1234567891011121314151617181920&#x2F;&#x2F; 禁用$grid-&gt;disableFilter();&#x2F;&#x2F; 显示$grid-&gt;showFilter();&#x2F;&#x2F; 禁用过滤器按钮$grid-&gt;disableFilterButton();&#x2F;&#x2F; 显示过滤器按钮$grid-&gt;showFilterBu">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2023/11/25/2.x/model-grid-filters/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="查询过滤model-grid提供了一系列的方法实现表格数据的查询过滤： 1234567891011121314151617181920&#x2F;&#x2F; 禁用$grid-&gt;disableFilter();&#x2F;&#x2F; 显示$grid-&gt;showFilter();&#x2F;&#x2F; 禁用过滤器按钮$grid-&gt;disableFilterButton();&#x2F;&#x2F; 显示过滤器按钮$grid-&gt;showFilterBu">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cdn.learnku.com/uploads/images/202004/26/38389/3g9EdvZTQA.png!large">
<meta property="og:image" content="https://cdn.learnku.com/uploads/images/202004/26/38389/vkPFs0Hnil.png!large">
<meta property="article:published_time" content="2023-11-25T07:16:44.973Z">
<meta property="article:modified_time" content="2023-11-25T07:16:44.974Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.learnku.com/uploads/images/202004/26/38389/3g9EdvZTQA.png!large">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-2.x/model-grid-filters" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/25/2.x/model-grid-filters/" class="article-date">
  <time class="dt-published" datetime="2023-11-25T07:16:44.973Z" itemprop="datePublished">2023-11-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="查询过滤"><a href="#查询过滤" class="headerlink" title="查询过滤"></a>查询过滤</h1><p><code>model-grid</code>提供了一系列的方法实现表格数据的查询过滤：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 禁用</span></span><br><span class="line"><span class="variable">$grid</span>-&gt;<span class="title function_ invoke__">disableFilter</span>();</span><br><span class="line"><span class="comment">// 显示</span></span><br><span class="line"><span class="variable">$grid</span>-&gt;<span class="title function_ invoke__">showFilter</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 禁用过滤器按钮</span></span><br><span class="line"><span class="variable">$grid</span>-&gt;<span class="title function_ invoke__">disableFilterButton</span>();</span><br><span class="line"><span class="comment">// 显示过滤器按钮</span></span><br><span class="line"><span class="variable">$grid</span>-&gt;<span class="title function_ invoke__">showFilterButton</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable">$grid</span>-&gt;<span class="title function_ invoke__">filter</span>(function(<span class="variable">$filter</span>)&#123;</span><br><span class="line">    <span class="comment">// 展开过滤器</span></span><br><span class="line">    <span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">expand</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 在这里添加字段过滤器</span></span><br><span class="line">    <span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;产品序列号&#x27;</span>);</span><br><span class="line">    <span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">like</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;name&#x27;</span>);</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="过滤器布局"><a href="#过滤器布局" class="headerlink" title="过滤器布局"></a>过滤器布局</h2><p>默认布局方式为<code>rightSide</code></p>
<h3 id="rightSide"><a href="#rightSide" class="headerlink" title="rightSide"></a>rightSide</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Grid</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$grid</span>-&gt;<span class="title function_ invoke__">filter</span>(function (Grid\Filter <span class="variable">$filter</span>) &#123;</span><br><span class="line">    <span class="comment">// 更改为 rightSide 布局</span></span><br><span class="line">    <span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">rightSide</span>();</span><br><span class="line">    </span><br><span class="line">    ...</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>效果</p>
<p><img src="https://cdn.learnku.com/uploads/images/202004/26/38389/3g9EdvZTQA.png!large"></p>
<h3 id="panel"><a href="#panel" class="headerlink" title="panel"></a>panel</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Grid</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$grid</span>-&gt;<span class="title function_ invoke__">filter</span>(function (Grid\Filter <span class="variable">$filter</span>) &#123;</span><br><span class="line">    <span class="comment">// 更改为 panel 布局</span></span><br><span class="line">    <span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">panel</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 注意切换为panel布局方式时需要重新调整表单字段的宽度</span></span><br><span class="line">    <span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;id&#x27;</span>)-&gt;<span class="title function_ invoke__">width</span>(<span class="number">3</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>效果</p>
<p><img src="https://cdn.learnku.com/uploads/images/202004/26/38389/vkPFs0Hnil.png!large"></p>
<h3 id="自定义布局-view"><a href="#自定义布局-view" class="headerlink" title="自定义布局 (view)"></a>自定义布局 (view)</h3><p>如果以上的布局无法满足需求，可以通过<code>view</code>方法自定义过滤器模板</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$grid</span>-&gt;<span class="title function_ invoke__">filter</span>(function (<span class="variable">$filter</span>) &#123;</span><br><span class="line">    <span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">view</span>(<span class="string">&#x27;xxx&#x27;</span>);</span><br><span class="line">    </span><br><span class="line">    ...</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<p><a name="type"></a></p>
<h2 id="查询类型"><a href="#查询类型" class="headerlink" title="查询类型"></a>查询类型</h2><p>目前支持的过滤类型有下面这些:</p>
<p><a name="equal"></a></p>
<h3 id="equal"><a href="#equal" class="headerlink" title="equal"></a>equal</h3><p><code>sql: ... WHERE </code>column<code> = &quot;$input&quot;</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>);</span><br></pre></td></tr></table></figure>

<p><a name="nequal"></a></p>
<h3 id="notEqual"><a href="#notEqual" class="headerlink" title="notEqual"></a>notEqual</h3><p><code>sql: ... WHERE </code>column<code> != &quot;$input&quot;</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">notEqual</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>);</span><br></pre></td></tr></table></figure>
<p><a name="like"></a></p>
<h3 id="like"><a href="#like" class="headerlink" title="like"></a>like</h3><p><code>sql: ... WHERE </code>column<code> LIKE &quot;%$input%&quot;</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">like</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>);</span><br></pre></td></tr></table></figure>

<h3 id="ilike"><a href="#ilike" class="headerlink" title="ilike"></a>ilike</h3><p><code>sql: ... WHERE </code>column<code> ILIKE &quot;%$input%&quot;</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">ilike</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>);</span><br></pre></td></tr></table></figure>
<p><a name="startwith"></a></p>
<h3 id="startWith"><a href="#startWith" class="headerlink" title="startWith"></a>startWith</h3><p><code>sql: ... WHERE </code>column<code> LIKE &quot;$input%&quot;</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">startWith</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果需要使用“ilike”</span></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">startWith</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>)-&gt;<span class="title function_ invoke__">ilike</span>();</span><br></pre></td></tr></table></figure>

<p><a name="endwith"></a></p>
<h3 id="endWith"><a href="#endWith" class="headerlink" title="endWith"></a>endWith</h3><p><code>sql: ... WHERE </code>column<code> LIKE &quot;%$input&quot;</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">endWith</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果需要使用“ilike”</span></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">endWith</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>)-&gt;<span class="title function_ invoke__">ilike</span>();</span><br></pre></td></tr></table></figure>

<p><a name="gt"></a></p>
<h3 id="gt"><a href="#gt" class="headerlink" title="gt"></a>gt</h3><p><code>sql: ... WHERE </code>column<code> &gt; &quot;$input&quot;</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">gt</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>);</span><br></pre></td></tr></table></figure>

<p><a name="lt"></a></p>
<h3 id="lt"><a href="#lt" class="headerlink" title="lt"></a>lt</h3><p><code>sql: ... WHERE </code>column<code> &lt; &quot;$input&quot;</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">lt</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>);</span><br></pre></td></tr></table></figure>

<p><a name="ngt"></a></p>
<h3 id="ngt"><a href="#ngt" class="headerlink" title="ngt"></a>ngt</h3><p><code>sql: ... WHERE </code>column<code> &lt;= &quot;$input&quot;</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">ngt</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>);</span><br></pre></td></tr></table></figure>

<p><a name="nlt"></a></p>
<h3 id="nlt"><a href="#nlt" class="headerlink" title="nlt"></a>nlt</h3><p><code>sql: ... WHERE </code>column<code> &gt;= &quot;$input&quot;</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">nlt</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>);</span><br></pre></td></tr></table></figure>

<p><a name="between"></a></p>
<h3 id="between"><a href="#between" class="headerlink" title="between"></a>between</h3><p><code>sql: ... WHERE </code>column<code> BETWEEN &quot;$start&quot; AND &quot;$end&quot;</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">between</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置datetime类型</span></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">between</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>)-&gt;<span class="title function_ invoke__">datetime</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置time类型</span></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">between</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>)-&gt;<span class="title function_ invoke__">time</span>();</span><br></pre></td></tr></table></figure>

<p><a name="in"></a></p>
<h3 id="in"><a href="#in" class="headerlink" title="in"></a>in</h3><p><code>sql: ... WHERE </code>column<code> in (...$inputs)</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">in</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>)-&gt;<span class="title function_ invoke__">multipleSelect</span>([<span class="string">&#x27;key&#x27;</span> =&gt; <span class="string">&#x27;value&#x27;</span>]);</span><br></pre></td></tr></table></figure>

<p><a name="notIn"></a></p>
<h3 id="notIn"><a href="#notIn" class="headerlink" title="notIn"></a>notIn</h3><p><code>sql: ... WHERE </code>column<code> not in (...$inputs)</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">notIn</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>)-&gt;<span class="title function_ invoke__">multipleSelect</span>([<span class="string">&#x27;key&#x27;</span> =&gt; <span class="string">&#x27;value&#x27;</span>]);</span><br></pre></td></tr></table></figure>

<p><a name="date"></a></p>
<h3 id="date"><a href="#date" class="headerlink" title="date"></a>date</h3><p><code>sql: ... WHERE DATE(</code>column<code>) = &quot;$input&quot;</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">date</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>);</span><br></pre></td></tr></table></figure>

<p><a name="day"></a></p>
<h3 id="day"><a href="#day" class="headerlink" title="day"></a>day</h3><p><code>sql: ... WHERE DAY(</code>column<code>) = &quot;$input&quot;</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">day</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>);</span><br></pre></td></tr></table></figure>

<p><a name="month"></a></p>
<h3 id="month"><a href="#month" class="headerlink" title="month"></a>month</h3><p><code>sql: ... WHERE MONTH(</code>column<code>) = &quot;$input&quot;</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">month</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>);</span><br></pre></td></tr></table></figure>

<p><a name="year"></a></p>
<h3 id="year"><a href="#year" class="headerlink" title="year"></a>year</h3><p><code>sql: ... WHERE YEAR(</code>column<code>) = &quot;$input&quot;</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">year</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>);</span><br></pre></td></tr></table></figure>

<p><a name="findinset"></a></p>
<h3 id="findInSet"><a href="#findInSet" class="headerlink" title="findInSet"></a>findInSet</h3><p><code>sql: ... WHERE FIND_IN_SET(&quot;$input&quot;, $column)</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">findInSet</span>(<span class="string">&#x27;column&#x27;</span>, <span class="variable">$label</span>);</span><br></pre></td></tr></table></figure>

<p><a name="where"></a></p>
<h3 id="复杂查询where"><a href="#复杂查询where" class="headerlink" title="复杂查询where"></a>复杂查询where</h3><p>可以用where来构建比较复杂的查询过滤</p>
<p><code>sql: ... WHERE </code>title<code>LIKE &quot;%$input&quot; OR</code>content<code> LIKE &quot;%$input&quot;</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;search&#x27;</span>, function (<span class="variable">$query</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$query</span>-&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;like&#x27;</span>, <span class="string">&quot;%<span class="subst">&#123;$this-&gt;input&#125;</span>%&quot;</span>)</span><br><span class="line">        -&gt;<span class="title function_ invoke__">orWhere</span>(<span class="string">&#x27;content&#x27;</span>, <span class="string">&#x27;like&#x27;</span>, <span class="string">&quot;%<span class="subst">&#123;$this-&gt;input&#125;</span>%&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><code>sql: ... WHERE </code>rate<code>&gt;= 6 AND</code>created_at<code> = &#123;$input&#125;</code>:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;Text&#x27;</span>, function (<span class="variable">$query</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$query</span>-&gt;<span class="title function_ invoke__">whereRaw</span>(<span class="string">&quot;`rate` &gt;= 6 AND `created_at` = <span class="subst">&#123;$this-&gt;input&#125;</span>&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>关系查询，查询对应关系<code>profile</code>的字段：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;mobile&#x27;</span>, function (<span class="variable">$query</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$query</span>-&gt;<span class="title function_ invoke__">whereHas</span>(<span class="string">&#x27;profile&#x27;</span>, function (<span class="variable">$query</span>) &#123;</span><br><span class="line">        <span class="variable">$query</span>-&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;address&#x27;</span>, <span class="string">&#x27;like&#x27;</span>, <span class="string">&quot;%<span class="subst">&#123;$this-&gt;input&#125;</span>%&quot;</span>)-&gt;<span class="title function_ invoke__">orWhere</span>(<span class="string">&#x27;email&#x27;</span>, <span class="string">&#x27;like&#x27;</span>, <span class="string">&quot;%<span class="subst">&#123;$this-&gt;input&#125;</span>%&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&#125;, <span class="string">&#x27;地址或手机号&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><a name="whereBetween"></a></p>
<h3 id="复杂范围查询whereBetween"><a href="#复杂范围查询whereBetween" class="headerlink" title="复杂范围查询whereBetween"></a>复杂范围查询whereBetween</h3><p>通过<code>whereBetween</code>可以自定义范围查询</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">whereBetween</span>(<span class="string">&#x27;created_at&#x27;</span>, function (<span class="variable">$q</span>) &#123;</span><br><span class="line">	<span class="variable">$start</span> = <span class="variable language_">$this</span>-&gt;input[<span class="string">&#x27;start&#x27;</span>] ?? <span class="literal">null</span>;</span><br><span class="line">	<span class="variable">$end</span> = <span class="variable language_">$this</span>-&gt;input[<span class="string">&#x27;end&#x27;</span>] ?? <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">	<span class="variable">$q</span>-&gt;<span class="title function_ invoke__">whereHas</span>(<span class="string">&#x27;goods&#x27;</span>, function (<span class="variable">$q</span>) <span class="keyword">use</span> ($<span class="title">start</span>) &#123;</span><br><span class="line">		<span class="title">if</span> ($<span class="title">start</span> !== <span class="title">null</span>) &#123;</span><br><span class="line">			$<span class="title">q</span>-&gt;<span class="title">where</span>(&#x27;<span class="title">price</span>&#x27;, &#x27;&gt;=&#x27;, $<span class="title">start</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		 </span><br><span class="line">		<span class="keyword">if</span> (<span class="variable">$end</span> !== <span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="variable">$q</span>-&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;price&#x27;</span>, <span class="string">&#x27;&lt;=&#x27;</span>, <span class="variable">$end</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;);       </span><br></pre></td></tr></table></figure>

<p>同时这个方法也支持时间日期范围查询</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">whereBetween</span>(<span class="string">&#x27;created_at&#x27;</span>, function (<span class="variable">$q</span>) &#123;</span><br><span class="line">	...</span><br><span class="line">&#125;)-&gt;<span class="title function_ invoke__">datetime</span>(); </span><br></pre></td></tr></table></figure>

<p><a name="group"></a></p>
<h3 id="过滤器组group"><a href="#过滤器组group" class="headerlink" title="过滤器组group"></a>过滤器组group</h3><p>有时候对同一个字段要设置多种筛选方式，可以通过下面的方式实现</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">group</span>(<span class="string">&#x27;rate&#x27;</span>, function (<span class="variable">$group</span>) &#123;</span><br><span class="line">    <span class="variable">$group</span>-&gt;<span class="title function_ invoke__">gt</span>(<span class="string">&#x27;大于&#x27;</span>);</span><br><span class="line">    <span class="variable">$group</span>-&gt;<span class="title function_ invoke__">lt</span>(<span class="string">&#x27;小于&#x27;</span>);</span><br><span class="line">    <span class="variable">$group</span>-&gt;<span class="title function_ invoke__">nlt</span>(<span class="string">&#x27;不小于&#x27;</span>);</span><br><span class="line">    <span class="variable">$group</span>-&gt;<span class="title function_ invoke__">ngt</span>(<span class="string">&#x27;不大于&#x27;</span>);</span><br><span class="line">    <span class="variable">$group</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;等于&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>有下面的几个方法可以调用</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 等于</span></span><br><span class="line"><span class="variable">$group</span>-&gt;<span class="title function_ invoke__">equal</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不等于</span></span><br><span class="line"><span class="variable">$group</span>-&gt;<span class="title function_ invoke__">notEqual</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 大于</span></span><br><span class="line"><span class="variable">$group</span>-&gt;<span class="title function_ invoke__">gt</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 小于</span></span><br><span class="line"><span class="variable">$group</span>-&gt;<span class="title function_ invoke__">lt</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 大于等于</span></span><br><span class="line"><span class="variable">$group</span>-&gt;<span class="title function_ invoke__">nlt</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 小于等于</span></span><br><span class="line"><span class="variable">$group</span>-&gt;<span class="title function_ invoke__">ngt</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 匹配</span></span><br><span class="line"><span class="variable">$group</span>-&gt;<span class="keyword">match</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 复杂条件</span></span><br><span class="line"><span class="variable">$group</span>-&gt;<span class="title function_ invoke__">where</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// like查询</span></span><br><span class="line"><span class="variable">$group</span>-&gt;<span class="title function_ invoke__">like</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// like查询</span></span><br><span class="line"><span class="variable">$group</span>-&gt;<span class="title function_ invoke__">contains</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ilike查询</span></span><br><span class="line"><span class="variable">$group</span>-&gt;<span class="title function_ invoke__">ilike</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 以输入的内容开头</span></span><br><span class="line"><span class="variable">$group</span>-&gt;<span class="title function_ invoke__">startWith</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 以输入的内容结尾</span></span><br><span class="line"><span class="variable">$group</span>-&gt;<span class="title function_ invoke__">endWith</span>();</span><br></pre></td></tr></table></figure>

<p><a name="scope"></a></p>
<h3 id="范围查询scope"><a href="#范围查询scope" class="headerlink" title="范围查询scope"></a>范围查询scope</h3><p>可以把你最常用的查询定义为一个查询范围，它将会出现在筛选按钮的下拉菜单中，下面是几个例子：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">scope</span>(<span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;男性&#x27;</span>)-&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;gender&#x27;</span>, <span class="string">&#x27;m&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 多条件查询</span></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">scope</span>(<span class="string">&#x27;new&#x27;</span>, <span class="string">&#x27;最近修改&#x27;</span>)</span><br><span class="line">    -&gt;<span class="title function_ invoke__">whereDate</span>(<span class="string">&#x27;created_at&#x27;</span>, <span class="title function_ invoke__">date</span>(<span class="string">&#x27;Y-m-d&#x27;</span>))</span><br><span class="line">    -&gt;<span class="title function_ invoke__">orWhere</span>(<span class="string">&#x27;updated_at&#x27;</span>, <span class="title function_ invoke__">date</span>(<span class="string">&#x27;Y-m-d&#x27;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 关联关系查询</span></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">scope</span>(<span class="string">&#x27;address&#x27;</span>)-&gt;<span class="title function_ invoke__">whereHas</span>(<span class="string">&#x27;profile&#x27;</span>, function (<span class="variable">$query</span>) &#123;</span><br><span class="line">    <span class="variable">$query</span>-&gt;<span class="title function_ invoke__">whereNotNull</span>(<span class="string">&#x27;address&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">scope</span>(<span class="string">&#x27;trashed&#x27;</span>, <span class="string">&#x27;被软删除的数据&#x27;</span>)-&gt;<span class="title function_ invoke__">onlyTrashed</span>();</span><br></pre></td></tr></table></figure>
<p>scope方法第一个参数为查询的key, 会出现的url参数中，第二个参数是下拉菜单项的label, 如果不填，第一个参数会作为label显示</p>
<p>scope方法可以链式调用任何eloquent查询条件，效果参考Demo</p>
<p><a name="form"></a></p>
<h2 id="表单类型"><a href="#表单类型" class="headerlink" title="表单类型"></a>表单类型</h2><p><a name="text"></a></p>
<h3 id="text"><a href="#text" class="headerlink" title="text"></a>text</h3><p>表单类型默认是<code>text input</code>，可以设置<code>placeholder</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">placeholder</span>(<span class="string">&#x27;请输入。。。&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>也可以通过下面的一些方法来限制用户输入格式：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">url</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">email</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="keyword">integer</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">ip</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">mac</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">mobile</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// $options 参考 https://github.com/RobinHerbots/Inputmask/blob/4.x/README_numeric.md</span></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">decimal</span>(<span class="variable">$options</span> = []);</span><br><span class="line"></span><br><span class="line"><span class="comment">// $options 参考 https://github.com/RobinHerbots/Inputmask/blob/4.x/README_numeric.md</span></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">currency</span>(<span class="variable">$options</span> = []);</span><br><span class="line"></span><br><span class="line"><span class="comment">// $options 参考 https://github.com/RobinHerbots/Inputmask/blob/4.x/README_numeric.md</span></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">percentage</span>(<span class="variable">$options</span> = []);</span><br><span class="line"></span><br><span class="line"><span class="comment">// $options 参考 https://github.com/RobinHerbots/Inputmask, $icon为input前面的图标</span></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">inputmask</span>(<span class="variable">$options</span> = [], <span class="variable">$icon</span> = <span class="string">&#x27;pencil&#x27;</span>);</span><br></pre></td></tr></table></figure>


<p><a name="select-table"></a></p>
<h3 id="表格选择器-selectTable"><a href="#表格选择器-selectTable" class="headerlink" title="表格选择器 (selectTable)"></a>表格选择器 (selectTable)</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Admin</span>\<span class="title">Renderable</span>\<span class="title">UserTable</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Models</span>\<span class="title">Administrator</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;user_id&#x27;</span>)</span><br><span class="line">	-&gt;<span class="title function_ invoke__">selectTable</span>(<span class="title class_">UserTable</span>::<span class="title function_ invoke__">make</span>([<span class="string">&#x27;id&#x27;</span> =&gt; ...])) <span class="comment">// 设置渲染类实例，并传递自定义参数</span></span><br><span class="line">	-&gt;<span class="title function_ invoke__">title</span>(<span class="string">&#x27;弹窗标题&#x27;</span>)</span><br><span class="line">	-&gt;<span class="title function_ invoke__">dialogWidth</span>(<span class="string">&#x27;50%&#x27;</span>) <span class="comment">// 弹窗宽度，默认 800px</span></span><br><span class="line">	-&gt;<span class="title function_ invoke__">model</span>(<span class="title class_">Administrator</span>::<span class="variable language_">class</span>, <span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;name&#x27;</span>); <span class="comment">// 设置编辑数据显示</span></span><br><span class="line">	</span><br><span class="line"><span class="comment">// 上面的代码等同于</span></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;user_id&#x27;</span>)</span><br><span class="line">	-&gt;<span class="title function_ invoke__">selectTable</span>(<span class="title class_">UserTable</span>::<span class="title function_ invoke__">make</span>([<span class="string">&#x27;id&#x27;</span> =&gt; ...])) <span class="comment">// 设置渲染类实例，并传递自定义参数</span></span><br><span class="line">	-&gt;<span class="title function_ invoke__">options</span>(function (<span class="variable">$v</span>) &#123; <span class="comment">// 设置编辑数据显示</span></span><br><span class="line">		<span class="keyword">if</span> (! <span class="variable">$v</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> [];</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> <span class="title class_">Administrator</span>::<span class="title function_ invoke__">find</span>(<span class="variable">$v</span>)-&gt;<span class="title function_ invoke__">pluck</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;id&#x27;</span>);</span><br><span class="line">	&#125;);</span><br></pre></td></tr></table></figure>

<p>定义渲染类如下，需要继承<code>Dcat\Admin\Grid\LazyRenderable</code></p>
<blockquote>
<p>{tip} 这里使用了数据表格异步加载功能，详细用法请参考<a href="lazy.md">异步加载</a></p>
</blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">App</span>\<span class="title class_">Admin</span>\<span class="title class_">Renderable</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Grid</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Grid</span>\<span class="title">LazyRenderable</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Models</span>\<span class="title">Administrator</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserTable</span> <span class="keyword">extends</span> <span class="title">LazyRenderable</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">grid</span>(<span class="params"></span>): <span class="title">Grid</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// 获取外部传递的参数</span></span><br><span class="line">        <span class="variable">$id</span> = <span class="variable language_">$this</span>-&gt;id;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Grid</span>::<span class="title function_ invoke__">make</span>(<span class="keyword">new</span> <span class="title class_">Administrator</span>(), <span class="function"><span class="keyword">function</span> (<span class="params">Grid <span class="variable">$grid</span></span>) </span>&#123;</span><br><span class="line">            <span class="variable">$grid</span>-&gt;<span class="title function_ invoke__">column</span>(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line">            <span class="variable">$grid</span>-&gt;<span class="title function_ invoke__">column</span>(<span class="string">&#x27;username&#x27;</span>);</span><br><span class="line">            <span class="variable">$grid</span>-&gt;<span class="title function_ invoke__">column</span>(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line">            <span class="variable">$grid</span>-&gt;<span class="title function_ invoke__">column</span>(<span class="string">&#x27;created_at&#x27;</span>);</span><br><span class="line">            <span class="variable">$grid</span>-&gt;<span class="title function_ invoke__">column</span>(<span class="string">&#x27;updated_at&#x27;</span>);</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 指定行选择器选中时显示的值的字段名称</span></span><br><span class="line">			<span class="comment">// 指定行选择器选中时显示的值的字段名称</span></span><br><span class="line">			<span class="comment">// 指定行选择器选中时显示的值的字段名称</span></span><br><span class="line">			<span class="comment">// 如果表格数据中带有 “name”、“title”或“username”字段，则可以不用设置</span></span><br><span class="line">			<span class="variable">$grid</span>-&gt;<span class="title function_ invoke__">rowSelector</span>()-&gt;<span class="title function_ invoke__">titleColumn</span>(<span class="string">&#x27;username&#x27;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="variable">$grid</span>-&gt;<span class="title function_ invoke__">quickSearch</span>([<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;username&#x27;</span>, <span class="string">&#x27;name&#x27;</span>]);</span><br><span class="line"></span><br><span class="line">            <span class="variable">$grid</span>-&gt;<span class="title function_ invoke__">paginate</span>(<span class="number">10</span>);</span><br><span class="line">            <span class="variable">$grid</span>-&gt;<span class="title function_ invoke__">disableActions</span>();</span><br><span class="line"></span><br><span class="line">            <span class="variable">$grid</span>-&gt;<span class="title function_ invoke__">filter</span>(function (Grid\Filter <span class="variable">$filter</span>) &#123;</span><br><span class="line">                <span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">like</span>(<span class="string">&#x27;username&#x27;</span>)-&gt;<span class="title function_ invoke__">width</span>(<span class="number">4</span>);</span><br><span class="line">                <span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">like</span>(<span class="string">&#x27;name&#x27;</span>)-&gt;<span class="title function_ invoke__">width</span>(<span class="number">4</span>);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="多选-multipleSelectTable"><a href="#多选-multipleSelectTable" class="headerlink" title="多选 (multipleSelectTable)"></a>多选 (multipleSelectTable)</h4><p>多选的用法与上述<code>selectTable</code>方法一致</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">in</span>(<span class="string">&#x27;user_id&#x27;</span>)</span><br><span class="line">	-&gt;<span class="title function_ invoke__">multipleSelectTable</span>(<span class="title class_">UserTable</span>::<span class="title function_ invoke__">make</span>([<span class="string">&#x27;id&#x27;</span> =&gt; <span class="variable">$form</span>-&gt;<span class="title function_ invoke__">getKey</span>()])) <span class="comment">// 设置渲染类实例，并传递自定义参数</span></span><br><span class="line">	-&gt;<span class="title function_ invoke__">max</span>(<span class="number">10</span>) <span class="comment">// 最多选择 10 个选项，不传则不限制</span></span><br><span class="line">	-&gt;<span class="title function_ invoke__">model</span>(<span class="title class_">Administrator</span>::<span class="variable language_">class</span>, <span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;name&#x27;</span>); <span class="comment">// 设置编辑数据显示</span></span><br></pre></td></tr></table></figure>



<p><a name="select"></a></p>
<h3 id="select"><a href="#select" class="headerlink" title="select"></a>select</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">select</span>([<span class="string">&#x27;key&#x27;</span> =&gt; <span class="string">&#x27;value&#x27;</span>...]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者从api获取数据，api的格式参考model-form的select组件</span></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">select</span>(<span class="string">&#x27;api/users&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><a name="multipleSelect"></a></p>
<h3 id="multipleSelect"><a href="#multipleSelect" class="headerlink" title="multipleSelect"></a>multipleSelect</h3><p>一般用来配合<code>in</code>和<code>notIn</code>两个需要查询数组的查询类型使用，也可以在<code>where</code>类型的查询中使用：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">in</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">multipleSelect</span>([<span class="string">&#x27;key&#x27;</span> =&gt; <span class="string">&#x27;value&#x27;</span>...]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者从api获取数据，api的格式参考model-form的multipleSelect组件</span></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">in</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">multipleSelect</span>(<span class="string">&#x27;api/users&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><a name="datetime"></a></p>
<h3 id="datetime"><a href="#datetime" class="headerlink" title="datetime"></a>datetime</h3><p>通过日期时间组件来查询，<code>$options</code>的参数和值参考<a target="_blank" rel="noopener" href="http://eonasdan.github.io/bootstrap-datetimepicker/Options/">bootstrap-datetimepicker</a></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">datetime</span>(<span class="variable">$options</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// `date()` 相当于 `datetime([&#x27;format&#x27; =&gt; &#x27;YYYY-MM-DD&#x27;])`</span></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">date</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// `time()` 相当于 `datetime([&#x27;format&#x27; =&gt; &#x27;HH:mm:ss&#x27;])`</span></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">time</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// `day()` 相当于 `datetime([&#x27;format&#x27; =&gt; &#x27;DD&#x27;])`</span></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">day</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// `month()` 相当于 `datetime([&#x27;format&#x27; =&gt; &#x27;MM&#x27;])`</span></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">month</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// `year()` 相当于 `datetime([&#x27;format&#x27; =&gt; &#x27;YYYY&#x27;])`</span></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">year</span>();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>如果你的时间日期字段在数据库中存储的是时间戳类型，那么可以通过<code>toTimestamp</code>方法把表单的值转化为时间戳</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">datetime</span>(<span class="variable">$options</span>)-&gt;<span class="title function_ invoke__">toTimestamp</span>();</span><br></pre></td></tr></table></figure>


<p><a name="method"></a></p>
<h2 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h2><p><a name="width"></a></p>
<h3 id="过滤器宽度-width"><a href="#过滤器宽度-width" class="headerlink" title="过滤器宽度 (width)"></a>过滤器宽度 (width)</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置为“1-12”之间的值，默认值是“3”</span></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">width</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 也可以写死宽度</span></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">width</span>(<span class="string">&#x27;250px&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><a name="default"></a></p>
<h3 id="设置默认值-default"><a href="#设置默认值-default" class="headerlink" title="设置默认值 (default)"></a>设置默认值 (default)</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="keyword">default</span>(<span class="string">&#x27;text&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">select</span>([<span class="number">0</span> =&gt; <span class="string">&#x27;PHP&#x27;</span>, <span class="number">1</span> =&gt; <span class="string">&#x27;Java&#x27;</span>])-&gt;<span class="keyword">default</span>(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<p><a name="expand"></a></p>
<h3 id="展开过滤器-expand"><a href="#展开过滤器-expand" class="headerlink" title="展开过滤器 (expand)"></a>展开过滤器 (expand)</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">expand</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p><a name="withoutInputBorder"></a></p>
<h3 id="不显示过滤器input输入框的边框"><a href="#不显示过滤器input输入框的边框" class="headerlink" title="不显示过滤器input输入框的边框"></a>不显示过滤器input输入框的边框</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">withoutInputBorder</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p><a name="style"></a></p>
<h3 id="设置过滤器容器样式"><a href="#设置过滤器容器样式" class="headerlink" title="设置过滤器容器样式"></a>设置过滤器容器样式</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">style</span>(<span class="string">&#x27;padding:0&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p><a name="padding"></a></p>
<h3 id="设置过滤器容器padding"><a href="#设置过滤器容器padding" class="headerlink" title="设置过滤器容器padding"></a>设置过滤器容器padding</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">padding</span>(<span class="string">&#x27;10px&#x27;</span>, <span class="string">&#x27;10px&#x27;</span>, <span class="string">&#x27;10px&#x27;</span>, <span class="string">&#x27;10px&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="忽略筛选项-ignore"><a href="#忽略筛选项-ignore" class="headerlink" title="忽略筛选项 (ignore)"></a>忽略筛选项 (ignore)</h3><p>通过<code>ignore</code>方法可以在提交表单时忽略当前筛选项</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">equal</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">ignore</span>();</span><br></pre></td></tr></table></figure>


<p><a name="relation"></a></p>
<h2 id="关联关系字段查询"><a href="#关联关系字段查询" class="headerlink" title="关联关系字段查询"></a>关联关系字段查询</h2><p>假设你的模型如下</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">profile</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">hasOne</span>(...);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">myPosts</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">hasMany</span>(...);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过下面的方法可以查询<code>profiles</code>表的<code>first_name</code>字段以及<code>posts</code>表的<code>title</code>字段</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$grid</span>-&gt;<span class="title function_ invoke__">filter</span>(function (<span class="variable">$filter</span>) &#123;</span><br><span class="line">    <span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">like</span>(<span class="string">&#x27;profile.first_name&#x27;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">like</span>(<span class="string">&#x27;myPosts.title&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>如果安装了 <a target="_blank" rel="noopener" href="https://github.com/jqhph/laravel-wherehasin">dcat&#x2F;laravel-wherehasin</a>，则会优先使用<code>whereHasIn</code>方法进行查询操作</p>
<p><a name="extend"></a></p>
<h2 id="自定义过滤器"><a href="#自定义过滤器" class="headerlink" title="自定义过滤器"></a>自定义过滤器</h2><p>下面通过<code>between</code>的实现来讲解下怎么自定义过滤器。</p>
<p>首先新建一个过滤器类继承<code>Dcat\Admin\Grid\Filter\AbstractFilter</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">Dcat</span>\<span class="title class_">Admin</span>\<span class="title class_">Grid</span>\<span class="title class_">Filter</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Admin</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Grid</span>\<span class="title">Filter</span>\<span class="title">Presenter</span>\<span class="title">DateTime</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Arr</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Between</span> <span class="keyword">extends</span> <span class="title">AbstractFilter</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// 自定义你的过滤器显示模板</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$view</span> = <span class="string">&#x27;admin::filter.between&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 这个方法用于生成过滤器字段的唯一id</span></span><br><span class="line">    <span class="comment">// 通过这个唯一id则可以用js代码对其进行操作</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">formatId</span>(<span class="params"><span class="variable">$column</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">       <span class="variable">$id</span>   = <span class="title function_ invoke__">str_replace</span>(<span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;_&#x27;</span>, <span class="variable">$column</span>);</span><br><span class="line">       <span class="variable">$name</span> = <span class="variable language_">$this</span>-&gt;<span class="built_in">parent</span>-&gt;<span class="title function_ invoke__">getGrid</span>()-&gt;<span class="title function_ invoke__">getName</span>();</span><br><span class="line"></span><br><span class="line">       <span class="keyword">return</span> [<span class="string">&#x27;start&#x27;</span> =&gt; <span class="string">&quot;<span class="subst">&#123;$name&#125;</span><span class="subst">&#123;$id&#125;</span>_start&quot;</span>, <span class="string">&#x27;end&#x27;</span> =&gt; <span class="string">&quot;<span class="subst">&#123;$name&#125;</span><span class="subst">&#123;$id&#125;</span>_end&quot;</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// form表单name属性格式化</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">formatName</span>(<span class="params"><span class="variable">$column</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$columns</span> = <span class="title function_ invoke__">explode</span>(<span class="string">&#x27;.&#x27;</span>, <span class="variable">$column</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_ invoke__">count</span>(<span class="variable">$columns</span>) == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="variable">$name</span> = <span class="variable">$columns</span>[<span class="number">0</span>];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable">$name</span> = <span class="title function_ invoke__">array_shift</span>(<span class="variable">$columns</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">foreach</span> (<span class="variable">$columns</span> <span class="keyword">as</span> <span class="variable">$column</span>) &#123;</span><br><span class="line">                <span class="variable">$name</span> .= <span class="string">&quot;[<span class="subst">$column</span>]&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> [<span class="string">&#x27;start&#x27;</span> =&gt; <span class="string">&quot;<span class="subst">&#123;$name&#125;</span>[start]&quot;</span>, <span class="string">&#x27;end&#x27;</span> =&gt; <span class="string">&quot;<span class="subst">&#123;$name&#125;</span>[end]&quot;</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建条件</span></span><br><span class="line">    <span class="comment">// 这里构建的条件支持`Laravel query builder`即可。</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">condition</span>(<span class="params"><span class="variable">$inputs</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="title class_">Arr</span>::<span class="title function_ invoke__">has</span>(<span class="variable">$inputs</span>, <span class="variable">$this</span>-&gt;column)) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">$this</span>-&gt;value = <span class="title class_">Arr</span>::<span class="title function_ invoke__">get</span>(<span class="variable">$inputs</span>, <span class="variable">$this</span>-&gt;column);</span><br><span class="line"></span><br><span class="line">        <span class="variable">$value</span> = <span class="title function_ invoke__">array_filter</span>(<span class="variable">$this</span>-&gt;value, function (<span class="variable">$val</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable">$val</span> !== <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$value</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">isset</span>(<span class="variable">$value</span>[<span class="string">&#x27;start&#x27;</span>]) &amp;&amp; <span class="keyword">isset</span>(<span class="variable">$value</span>[<span class="string">&#x27;end&#x27;</span>])) &#123;</span><br><span class="line">            <span class="comment">// 这里返回的数组相当于</span></span><br><span class="line">            <span class="comment">// $query-&gt;where($this-&gt;column, &#x27;&lt;=&#x27;, $value[&#x27;end&#x27;]);</span></span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">buildCondition</span>(<span class="variable">$this</span>-&gt;column, <span class="string">&#x27;&lt;=&#x27;</span>, <span class="variable">$value</span>[<span class="string">&#x27;end&#x27;</span>]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">isset</span>(<span class="variable">$value</span>[<span class="string">&#x27;end&#x27;</span>]) &amp;&amp; <span class="keyword">isset</span>(<span class="variable">$value</span>[<span class="string">&#x27;start&#x27;</span>])) &#123;</span><br><span class="line">            <span class="comment">// 这里返回的数组相当于</span></span><br><span class="line">            <span class="comment">// $query-&gt;where($this-&gt;column, &#x27;&gt;=&#x27;, $value[&#x27;end&#x27;]);</span></span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">buildCondition</span>(<span class="variable">$this</span>-&gt;column, <span class="string">&#x27;&gt;=&#x27;</span>, <span class="variable">$value</span>[<span class="string">&#x27;start&#x27;</span>]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">$this</span>-&gt;query = <span class="string">&#x27;whereBetween&#x27;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 这里返回的数组相当于</span></span><br><span class="line">        <span class="comment">// $query-&gt;whereBetween($this-&gt;column, $value[&#x27;end&#x27;]);</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">buildCondition</span>(<span class="variable">$this</span>-&gt;column, <span class="variable">$this</span>-&gt;value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 自定义过滤器表单显示方式</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">datetime</span>(<span class="params"><span class="variable">$options</span> = []</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;view = <span class="string">&#x27;admin::filter.betweenDatetime&#x27;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="title class_">DateTime</span>::<span class="title function_ invoke__">collectAssets</span>();</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">setupDatetime</span>(<span class="variable">$options</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">setupDatetime</span>(<span class="params"><span class="variable">$options</span> = []</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$options</span>[<span class="string">&#x27;format&#x27;</span>] = <span class="title class_">Arr</span>::<span class="title function_ invoke__">get</span>(<span class="variable">$options</span>, <span class="string">&#x27;format&#x27;</span>, <span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>);</span><br><span class="line">        <span class="variable">$options</span>[<span class="string">&#x27;locale&#x27;</span>] = <span class="title class_">Arr</span>::<span class="title function_ invoke__">get</span>(<span class="variable">$options</span>, <span class="string">&#x27;locale&#x27;</span>, <span class="title function_ invoke__">config</span>(<span class="string">&#x27;app.locale&#x27;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="variable">$startOptions</span> = <span class="title function_ invoke__">json_encode</span>(<span class="variable">$options</span>);</span><br><span class="line">        <span class="variable">$endOptions</span> = <span class="title function_ invoke__">json_encode</span>(<span class="variable">$options</span> + [<span class="string">&#x27;useCurrent&#x27;</span> =&gt; <span class="literal">false</span>]);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 通过上面格式化后的id对表单进行你想要的操作</span></span><br><span class="line">        <span class="variable">$script</span> = <span class="string">&lt;&lt;&lt;JS</span></span><br><span class="line"><span class="string">            $(&#x27;#<span class="subst">&#123;$this-&gt;id[&#x27;start&#x27;]&#125;</span>&#x27;).datetimepicker(<span class="subst">$startOptions</span>);</span></span><br><span class="line"><span class="string">            $(&#x27;#<span class="subst">&#123;$this-&gt;id[&#x27;end&#x27;]&#125;</span>&#x27;).datetimepicker(<span class="subst">$endOptions</span>);</span></span><br><span class="line"><span class="string">            $(&quot;#<span class="subst">&#123;$this-&gt;id[&#x27;start&#x27;]&#125;</span>&quot;).on(&quot;dp.change&quot;, function (e) &#123;</span></span><br><span class="line"><span class="string">                $(&#x27;#<span class="subst">&#123;$this-&gt;id[&#x27;end&#x27;]&#125;</span>&#x27;).data(&quot;DateTimePicker&quot;).minDate(e.date);</span></span><br><span class="line"><span class="string">            &#125;);</span></span><br><span class="line"><span class="string">            $(&quot;#<span class="subst">&#123;$this-&gt;id[&#x27;end&#x27;]&#125;</span>&quot;).on(&quot;dp.change&quot;, function (e) &#123;</span></span><br><span class="line"><span class="string">                $(&#x27;#<span class="subst">&#123;$this-&gt;id[&#x27;start&#x27;]&#125;</span>&#x27;).data(&quot;DateTimePicker&quot;).maxDate(e.date);</span></span><br><span class="line"><span class="string">            &#125;);</span></span><br><span class="line"><span class="string">JS</span>;</span><br><span class="line"></span><br><span class="line">        <span class="title class_">Admin</span>::<span class="title function_ invoke__">script</span>(<span class="variable">$script</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>admin::filter.between</code>模板内容如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span>=&quot;<span class="title">filter</span>-<span class="title">input</span> <span class="title">col</span>-<span class="title">sm</span>-</span>&#123;&#123; <span class="variable">$width</span> &#125;&#125; <span class="string">&quot;  style=&quot;</span>&#123;!! <span class="variable">$style</span> !!&#125;<span class="string">&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;</span>form-group<span class="string">&quot; &gt;</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;</span>input-group input-group-sm<span class="string">&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;span class=&quot;</span>input-group-addon<span class="string">&quot;&gt;&lt;b&gt;&#123;!! <span class="subst">$label</span> !!&#125;&lt;/b&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">            &lt;input type=&quot;</span>text<span class="string">&quot; class=&quot;</span>form-control<span class="string">&quot; placeholder=&quot;</span>&#123;&#123;<span class="variable">$label</span>&#125;&#125;<span class="string">&quot; name=&quot;</span>&#123;&#123;<span class="variable">$name</span>[<span class="string">&#x27;start&#x27;</span>]&#125;&#125;<span class="string">&quot; value=&quot;</span>&#123;&#123; <span class="title function_ invoke__">request</span>(<span class="variable">$name</span>[<span class="string">&#x27;start&#x27;</span>], <span class="title class_">\Illuminate\Support\Arr</span>::<span class="title function_ invoke__">get</span>(<span class="variable">$value</span>, <span class="string">&#x27;start&#x27;</span>)) &#125;&#125;<span class="string">&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;span class=&quot;</span>input-group-addon<span class="string">&quot; style=&quot;</span>border-left: <span class="number">0</span>; border-right: <span class="number">0</span>;<span class="string">&quot;&gt;To&lt;/span&gt;</span></span><br><span class="line"><span class="string">            &lt;input type=&quot;</span>text<span class="string">&quot; class=&quot;</span>form-control<span class="string">&quot; placeholder=&quot;</span>&#123;&#123;<span class="variable">$label</span>&#125;&#125;<span class="string">&quot; name=&quot;</span>&#123;&#123;<span class="variable">$name</span>[<span class="string">&#x27;end&#x27;</span>]&#125;&#125;<span class="string">&quot; value=&quot;</span>&#123;&#123; <span class="title function_ invoke__">request</span>(<span class="variable">$name</span>[<span class="string">&#x27;end&#x27;</span>], <span class="title class_">\Illuminate\Support\Arr</span>::<span class="title function_ invoke__">get</span>(<span class="variable">$value</span>, <span class="string">&#x27;end&#x27;</span>)) &#125;&#125;<span class="string">&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>admin::filter.betweenDatetime</code>模板内容如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span>=&quot;<span class="title">filter</span>-<span class="title">input</span> <span class="title">col</span>-<span class="title">sm</span>-</span>&#123;&#123; <span class="variable">$width</span> &#125;&#125;<span class="string">&quot;  style=&quot;</span>&#123;!! <span class="variable">$style</span> !!&#125;<span class="string">&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;</span>form-group<span class="string">&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;</span>input-group input-group-sm<span class="string">&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;span class=&quot;</span>input-group-addon<span class="string">&quot;&gt;&lt;b&gt;&#123;<span class="subst">&#123;$label&#125;</span>&#125;&lt;/b&gt;  &amp;nbsp;&lt;i class=&quot;</span>fa fa-calendar<span class="string">&quot;&gt;&lt;/i&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">            &lt;input type=&quot;</span>text<span class="string">&quot; class=&quot;</span>form-control<span class="string">&quot; id=&quot;</span>&#123;&#123;<span class="variable">$id</span>[<span class="string">&#x27;start&#x27;</span>]&#125;&#125;<span class="string">&quot; placeholder=&quot;</span>&#123;&#123;<span class="variable">$label</span>&#125;&#125;<span class="string">&quot; name=&quot;</span>&#123;&#123;<span class="variable">$name</span>[<span class="string">&#x27;start&#x27;</span>]&#125;&#125;<span class="string">&quot; value=&quot;</span>&#123;&#123; <span class="title function_ invoke__">request</span>(<span class="variable">$name</span>[<span class="string">&#x27;start&#x27;</span>], <span class="title class_">\Illuminate\Support\Arr</span>::<span class="title function_ invoke__">get</span>(<span class="variable">$value</span>, <span class="string">&#x27;start&#x27;</span>)) &#125;&#125;<span class="string">&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;span class=&quot;</span>input-group-addon<span class="string">&quot; style=&quot;</span>border-left: <span class="number">0</span>; border-right: <span class="number">0</span>;<span class="string">&quot;&gt;To&lt;/span&gt;</span></span><br><span class="line"><span class="string">            &lt;input type=&quot;</span>text<span class="string">&quot; class=&quot;</span>form-control<span class="string">&quot; id=&quot;</span>&#123;&#123;<span class="variable">$id</span>[<span class="string">&#x27;end&#x27;</span>]&#125;&#125;<span class="string">&quot; placeholder=&quot;</span>&#123;&#123;<span class="variable">$label</span>&#125;&#125;<span class="string">&quot; name=&quot;</span>&#123;&#123;<span class="variable">$name</span>[<span class="string">&#x27;end&#x27;</span>]&#125;&#125;<span class="string">&quot; value=&quot;</span>&#123;&#123; <span class="title function_ invoke__">request</span>(<span class="variable">$name</span>[<span class="string">&#x27;end&#x27;</span>], <span class="title class_">\Illuminate\Support\Arr</span>::<span class="title function_ invoke__">get</span>(<span class="variable">$value</span>, <span class="string">&#x27;end&#x27;</span>)) &#125;&#125;<span class="string">&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure>

<p>现在只要调用<code>extend</code>方法可以使用了，打开<code>app/Admin/bootstrap.php</code>，加入以下代码：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Filter</span>::<span class="title function_ invoke__">extend</span>(<span class="string">&#x27;customBetween&#x27;</span>, <span class="title class_">Filter\Between</span>::<span class="variable language_">class</span>);</span><br></pre></td></tr></table></figure>

<p>使用：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filter</span>-&gt;<span class="title function_ invoke__">customBetween</span>(<span class="string">&#x27;created_at&#x27;</span>)-&gt;<span class="title function_ invoke__">datetime</span>();</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/11/25/2.x/model-grid-filters/" data-id="clpdpxfjv001lywna26y2dro4" data-title="" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2023/11/25/2.x/model-grid-exporter/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/2023/11/25/2.x/model-grid-events/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">November 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/11/25/2.x/widgets-navbar/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/11/25/2.x/widgets-tab/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/11/25/2.x/widgets-table/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/11/25/2.x/widgets-tooltip/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/11/25/2.x/widgets-js/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>