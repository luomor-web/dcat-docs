<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>数据统计卡片 - My Docs</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">My Docs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Welcome to MkDocs</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">2.x <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../" class="dropdown-item">dcat-admin</a>
</li>
                                    
<li>
    <a href="../1-x-upgrade/" class="dropdown-item">v1.x版本升级指南</a>
</li>
                                    
<li>
    <a href="../LICENSE/" class="dropdown-item">LICENSE</a>
</li>
                                    
<li>
    <a href="../action-form/" class="dropdown-item">数据表单动作</a>
</li>
                                    
<li>
    <a href="../action-grid/" class="dropdown-item">数据表格动作</a>
</li>
                                    
<li>
    <a href="../action-show/" class="dropdown-item">数据详情动作</a>
</li>
                                    
<li>
    <a href="../action-tree/" class="dropdown-item">模型树动作</a>
</li>
                                    
<li>
    <a href="../action/" class="dropdown-item">动作基本使用</a>
</li>
                                    
<li>
    <a href="../assets/" class="dropdown-item">静态资源加载</a>
</li>
                                    
<li>
    <a href="../beta-change-log/" class="dropdown-item">BETA版本更新日志</a>
</li>
                                    
<li>
    <a href="../change-log/" class="dropdown-item">Change log</a>
</li>
                                    
<li>
    <a href="../custom-authentication/" class="dropdown-item">自定义登陆</a>
</li>
                                    
<li>
    <a href="../custom-chart/" class="dropdown-item">自定义图表</a>
</li>
                                    
<li>
    <a href="../custom-navbar/" class="dropdown-item">自定义头部导航条</a>
</li>
                                    
<li>
    <a href="../custom-page/" class="dropdown-item">视图与自定义页面</a>
</li>
                                    
<li>
    <a href="../documentation/" class="dropdown-item">Documentation</a>
</li>
                                    
<li>
    <a href="../extend/" class="dropdown-item">开发扩展</a>
</li>
                                    
<li>
    <a href="../extension-dev/" class="dropdown-item">开发扩展</a>
</li>
                                    
<li>
    <a href="../extension-f/" class="dropdown-item">扩展基本使用</a>
</li>
                                    
<li>
    <a href="../extension-helpers/" class="dropdown-item">开发工具</a>
</li>
                                    
<li>
    <a href="../extension-theme/" class="dropdown-item">主题开发</a>
</li>
                                    
<li>
    <a href="../extension-upgrade/" class="dropdown-item">扩展版本与升级</a>
</li>
                                    
<li>
    <a href="../extensions/" class="dropdown-item">扩展</a>
</li>
                                    
<li>
    <a href="../function/" class="dropdown-item">帮助函数</a>
</li>
                                    
<li>
    <a href="../helpers/" class="dropdown-item">开发工具</a>
</li>
                                    
<li>
    <a href="../installation/" class="dropdown-item">安装</a>
</li>
                                    
<li>
    <a href="../introduction/" class="dropdown-item">Dcat Admin</a>
</li>
                                    
<li>
    <a href="../js/" class="dropdown-item">JS组件</a>
</li>
                                    
<li>
    <a href="../laravel-octane/" class="dropdown-item">Laravel Octane</a>
</li>
                                    
<li>
    <a href="../lazy/" class="dropdown-item">异步加载基本使用</a>
</li>
                                    
<li>
    <a href="../menu/" class="dropdown-item">菜单</a>
</li>
                                    
<li>
    <a href="../model-form-callback/" class="dropdown-item">表单回调</a>
</li>
                                    
<li>
    <a href="../model-form-data/" class="dropdown-item">表单数据源</a>
</li>
                                    
<li>
    <a href="../model-form-field-management/" class="dropdown-item">表单字段的管理</a>
</li>
                                    
<li>
    <a href="../model-form-fields/" class="dropdown-item">表单字段的使用</a>
</li>
                                    
<li>
    <a href="../model-form-init/" class="dropdown-item">表单初始化</a>
</li>
                                    
<li>
    <a href="../model-form-layout/" class="dropdown-item">表单布局</a>
</li>
                                    
<li>
    <a href="../model-form-modal/" class="dropdown-item">表单弹窗</a>
</li>
                                    
<li>
    <a href="../model-form-step/" class="dropdown-item">分步表单</a>
</li>
                                    
<li>
    <a href="../model-form-trans/" class="dropdown-item">表单字段翻译</a>
</li>
                                    
<li>
    <a href="../model-form-upload/" class="dropdown-item">图片/文件上传</a>
</li>
                                    
<li>
    <a href="../model-form-validation/" class="dropdown-item">表单验证</a>
</li>
                                    
<li>
    <a href="../model-form-when/" class="dropdown-item">表单字段动态显示</a>
</li>
                                    
<li>
    <a href="../model-form/" class="dropdown-item">表单基本使用</a>
</li>
                                    
<li>
    <a href="../model-grid-actions/" class="dropdown-item">行的使用和扩展</a>
</li>
                                    
<li>
    <a href="../model-grid-async/" class="dropdown-item">表格异步渲染</a>
</li>
                                    
<li>
    <a href="../model-grid-column-display/" class="dropdown-item">列的显示和扩展</a>
</li>
                                    
<li>
    <a href="../model-grid-column-filter/" class="dropdown-item">列过滤器</a>
</li>
                                    
<li>
    <a href="../model-grid-column/" class="dropdown-item">列的基本使用</a>
</li>
                                    
<li>
    <a href="../model-grid-combination/" class="dropdown-item">组合表头</a>
</li>
                                    
<li>
    <a href="../model-grid-custom-tools/" class="dropdown-item">工具栏</a>
</li>
                                    
<li>
    <a href="../model-grid-data/" class="dropdown-item">表格数据源</a>
</li>
                                    
<li>
    <a href="../model-grid-editable/" class="dropdown-item">数据表格行内编辑</a>
</li>
                                    
<li>
    <a href="../model-grid-events/" class="dropdown-item">数据表格事件</a>
</li>
                                    
<li>
    <a href="../model-grid-export/" class="dropdown-item">数据导出</a>
</li>
                                    
<li>
    <a href="../model-grid-exporter/" class="dropdown-item">自定义导出</a>
</li>
                                    
<li>
    <a href="../model-grid-filters/" class="dropdown-item">查询过滤</a>
</li>
                                    
<li>
    <a href="../model-grid-header/" class="dropdown-item">头部和脚部</a>
</li>
                                    
<li>
    <a href="../model-grid-quick-create/" class="dropdown-item">快捷创建</a>
</li>
                                    
<li>
    <a href="../model-grid-quick-search/" class="dropdown-item">表格快捷搜索</a>
</li>
                                    
<li>
    <a href="../model-grid-relationship/" class="dropdown-item">表格关联关系</a>
</li>
                                    
<li>
    <a href="../model-grid-selector/" class="dropdown-item">表格规格筛选器</a>
</li>
                                    
<li>
    <a href="../model-grid-softdelete/" class="dropdown-item">数据软删除</a>
</li>
                                    
<li>
    <a href="../model-grid-trans/" class="dropdown-item">表格字段翻译</a>
</li>
                                    
<li>
    <a href="../model-grid-tree/" class="dropdown-item">树状表格</a>
</li>
                                    
<li>
    <a href="../model-grid/" class="dropdown-item">表格基本使用</a>
</li>
                                    
<li>
    <a href="../model-json/" class="dropdown-item">JSON格式字段处理</a>
</li>
                                    
<li>
    <a href="../model-relationship/" class="dropdown-item">表单关联关系</a>
</li>
                                    
<li>
    <a href="../model-repository/" class="dropdown-item">数据仓库</a>
</li>
                                    
<li>
    <a href="../model-show-extend/" class="dropdown-item">详情字段显示扩展</a>
</li>
                                    
<li>
    <a href="../model-show-field/" class="dropdown-item">字段显示</a>
</li>
                                    
<li>
    <a href="../model-show-init/" class="dropdown-item">数据详情初始化</a>
</li>
                                    
<li>
    <a href="../model-show-relation/" class="dropdown-item">关联关系</a>
</li>
                                    
<li>
    <a href="../model-show-trans/" class="dropdown-item">数据详情字段翻译</a>
</li>
                                    
<li>
    <a href="../model-show/" class="dropdown-item">数据详情基本使用</a>
</li>
                                    
<li>
    <a href="../model-tree/" class="dropdown-item">模型树</a>
</li>
                                    
<li>
    <a href="../multi-app/" class="dropdown-item">多应用 (多后台)</a>
</li>
                                    
<li>
    <a href="../notice/" class="dropdown-item">开发前必读</a>
</li>
                                    
<li>
    <a href="../permission/" class="dropdown-item">权限控制</a>
</li>
                                    
<li>
    <a href="../qa/" class="dropdown-item">常见问题汇总</a>
</li>
                                    
<li>
    <a href="../quick-start/" class="dropdown-item">快速开始</a>
</li>
                                    
<li>
    <a href="../response/" class="dropdown-item">动作以及表单响应</a>
</li>
                                    
<li>
    <a href="../section/" class="dropdown-item">区块（section）</a>
</li>
                                    
<li>
    <a href="../theme/" class="dropdown-item">主题与颜色</a>
</li>
                                    
<li>
    <a href="../trans/" class="dropdown-item">多语言</a>
</li>
                                    
<li>
    <a href="../update/" class="dropdown-item">版本升级须知</a>
</li>
                                    
<li>
    <a href="../widgets-alert/" class="dropdown-item">警告框</a>
</li>
                                    
<li>
    <a href="../widgets-box/" class="dropdown-item">卡片</a>
</li>
                                    
<li>
    <a href="../widgets-charts/" class="dropdown-item">图表</a>
</li>
                                    
<li>
    <a href="../widgets-checkbox/" class="dropdown-item">单/复选框</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">数据统计卡片</a>
</li>
                                    
<li>
    <a href="../widgets-dialog-form/" class="dropdown-item">Widgets dialog form</a>
</li>
                                    
<li>
    <a href="../widgets-dropdown/" class="dropdown-item">下拉菜单</a>
</li>
                                    
<li>
    <a href="../widgets-form/" class="dropdown-item">工具表单</a>
</li>
                                    
<li>
    <a href="../widgets-js/" class="dropdown-item">Widgets js</a>
</li>
                                    
<li>
    <a href="../widgets-markdown/" class="dropdown-item">Markdown</a>
</li>
                                    
<li>
    <a href="../widgets-modal/" class="dropdown-item">模态窗 (Modal)</a>
</li>
                                    
<li>
    <a href="../widgets-navbar/" class="dropdown-item">Widgets navbar</a>
</li>
                                    
<li>
    <a href="../widgets-tab/" class="dropdown-item">选项卡</a>
</li>
                                    
<li>
    <a href="../widgets-table/" class="dropdown-item">Widgets table</a>
</li>
                                    
<li>
    <a href="../widgets-tooltip/" class="dropdown-item">提示窗</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../widgets-checkbox/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../widgets-dialog-form/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#_1" class="nav-link">数据统计卡片</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#_2" class="nav-link">基础卡片</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#line" class="nav-link">线性趋势图卡片 (Line)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#donut" class="nav-link">圆环图卡片 (Donut)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#bar" class="nav-link">柱状图卡片 (Bar)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#round" class="nav-link">多环形图卡片 (Round)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#_12" class="nav-link">更多内置卡片</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#_13" class="nav-link">自定义图表卡片</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="_1">数据统计卡片</h1>
<p><code>Dcat Admin</code>中内置了多种常用数据统计卡片，可以非常方便的与后端API交互，下面逐一介绍用法。</p>
<h2 id="_2">基础卡片</h2>
<p>基础卡片(<code>Dcat\Admin\Widgets\Metrics\Card</code>)是一种默认不显示图表的卡片，也是数据卡片中最简单的一种。</p>
<p><a href="{{public}}/assets/img/screenshots/total-users.png" target="_blank">
    <img src="{{public}}/assets/img/screenshots/total-users.png"  style="box-shadow:0 1px 6px 1px rgba(0, 0, 0, 0.12)" width="100%" >
</a></p>
<h3 id="_3">简单示例</h3>
<p>基础卡片的使用可参考内置的<code>App\Admin\Metrics\Examples\TotalUsers</code>类。</p>
<pre><code class="language-php">&lt;?php

namespace App\Admin\Metrics\Examples;

use Dcat\Admin\Widgets\Metrics\Card;
use Illuminate\Contracts\Support\Renderable;
use Illuminate\Http\Request;

class TotalUsers extends Card
{
    /**
     * 卡片底部内容.
     *
     * @var string|Renderable|\Closure
     */
    protected $footer;

    // 保存自定义参数
    protected $data = [];

    // 构造方法参数必须设置默认值
    public function __construct(array $data = []) 
    {
        $this-&gt;data = [];

        parent::__construct();
    }

    protected function init()
    {
        parent::init();

        // 设置标题
        $this-&gt;title('Total Users');
        // 设置下拉菜单
        $this-&gt;dropdown([
            '7' =&gt; 'Last 7 Days',
            '28' =&gt; 'Last 28 Days',
            '30' =&gt; 'Last Month',
            '365' =&gt; 'Last Year',
        ]);
    }

    /**
     * 处理请求.
     *
     * @param Request $request
     *
     * @return void
     */
    public function handle(Request $request)
    {
        // 获取外部传递的自定义参数
        $key1 = $request-&gt;get('key1');

        switch ($request-&gt;get('option')) {
            case '365':
                $this-&gt;content(mt_rand(600, 1500));
                $this-&gt;down(mt_rand(1, 30));
                break;
            case '30':
                $this-&gt;content(mt_rand(170, 250));
                $this-&gt;up(mt_rand(12, 50));
                break;
            case '28':
                $this-&gt;content(mt_rand(155, 200));
                $this-&gt;up(mt_rand(5, 50));
                break;
            case '7':
            default:
                $this-&gt;content(143);
                $this-&gt;up(15);
        }
    }

    // 传递自定义参数到 handle 方法
    public function parameters() : array
    {
        return $this-&gt;data;
    }

    /**
     * @param int $percent
     *
     * @return $this
     */
    public function up($percent)
    {
        return $this-&gt;footer(
            &quot;&lt;i class=\&quot;feather icon-trending-up text-success\&quot;&gt;&lt;/i&gt; {$percent}% Increase&quot;
        );
    }

    /**
     * @param int $percent
     *
     * @return $this
     */
    public function down($percent)
    {
        return $this-&gt;footer(
            &quot;&lt;i class=\&quot;feather icon-trending-down text-danger\&quot;&gt;&lt;/i&gt; {$percent}% Decrease&quot;
        );
    }

    /**
     * 设置卡片底部内容
     *
     * @param string|Renderable|\Closure $footer
     *
     * @return $this
     */
    public function footer($footer)
    {
        $this-&gt;footer = $footer;

        return $this;
    }

    /**
     * 渲染卡片内容.
     *
     * @return string
     */
    public function renderContent()
    {
        $content = parent::renderContent();

        return &lt;&lt;&lt;HTML
&lt;div class=&quot;d-flex justify-content-between align-items-center mt-1&quot; style=&quot;margin-bottom: 2px&quot;&gt;
    &lt;h2 class=&quot;ml-1 font-large-1&quot;&gt;{$content}&lt;/h2&gt;
&lt;/div&gt;
&lt;div class=&quot;ml-1 mt-1 font-weight-bold text-80&quot;&gt;
    {$this-&gt;renderFooter()}
&lt;/div&gt;
HTML;
    }

    /**
     * @return string
     */
    public function renderFooter()
    {
        return $this-&gt;toString($this-&gt;footer);
    }
}
</code></pre>
<h3 id="_4">基础卡片方法</h3>
<h4 id="init">初始化 (init)</h4>
<p><code>init</code>方法会在卡片构造方法中被调用，可用于卡片初始化操作。</p>
<pre><code class="language-php">class MyCard extend Card
{
    protected function init()
    {
        parent::init();

        // 你的初始化操作
    }
}
</code></pre>
<h4 id="title">设置标题 (title)</h4>
<p>通过<code>title</code>方法可以在卡片的左上角设置一个标题</p>
<pre><code class="language-php">class MyCard extend Card
{
    protected function init()
    {
        parent::init();

        $this-&gt;title('活跃用户');
    }
}
</code></pre>
<h4 id="dropdown">设置下拉菜单 (dropdown)</h4>
<p>通过<code>dropdown</code>方法可以在卡片右上角设置一个下拉菜单按钮，此功能需要结合<code>handle</code>方法一起使用才有效果。</p>
<pre><code class="language-php">class MyCard extend Card
{
    protected function init()
    {
        $this-&gt;dropdown([
            '7' =&gt; 'Last 7 Days',
            '28' =&gt; 'Last 28 Days',
            '30' =&gt; 'Last Month',
            '365' =&gt; 'Last Year',
        ]);
    }
}
</code></pre>
<h4 id="subtitle">设置副标题 (subTitle)</h4>
<p>通过<code>subTitle</code>方法可以在卡片的又上角设置一个副标题。</p>
<blockquote>
<p>{tip} 此方法与<code>dropdown</code>方法会有冲突，如果设置过下拉菜单按钮，就不需要设置副标题。</p>
</blockquote>
<pre><code class="language-php">class MyCard extend Card
{
    protected function init()
    {
        parent::init();

        $this-&gt;subTitle('最近30天');
    }
}
</code></pre>
<h4 id="header">设置头部内容 (header)</h4>
<p>通过<code>header</code>方法可以设置卡片头部内容，此方法接受一个参数，可以是<code>string</code>、<code>Closure</code>，也可以是模板视图(<code>Illuminate\Contracts\Support\Renderable</code>)。</p>
<blockquote>
<p>{tip} 通过此方法设置的内容与<code>title</code>在同一个<code>div</code>容器内。</p>
</blockquote>
<pre><code class="language-php">class MyCard extend Card
{
    protected function init()
    {
        parent::init();

        $this-&gt;header(
            &lt;&lt;&lt;HTML
            &lt;div&gt;头部内容&lt;/div&gt;        
HTML            
        );

        // 也可以传闭包
        $this-&gt;header(function () {
            return ...;
        });

        // 也可以传视图
        $this-&gt;header(view('...'));
    }
}
</code></pre>
<h4 id="content">设置主体内容 (content)</h4>
<p>通过<code>content</code>方法可以设置卡片的内容主体，此方法接受一个参数，可以是<code>string</code>、<code>Closure</code>，也可以是模板视图(<code>Illuminate\Contracts\Support\Renderable</code>)。</p>
<pre><code class="language-php">class MyCard extend Card
{
    protected function init()
    {
        parent::init();

        $this-&gt;withContent('自定义内容');
    }

    /**
     * 卡片内容
     *
     * @param string $content
     *
     * @return $this
     */
    public function withContent($content)
    {
        return $this-&gt;content(
            &lt;&lt;&lt;HTML
&lt;div class=&quot;d-flex flex-column flex-wrap text-center&quot;&gt;
    &lt;h1 class=&quot;font-large-2 mt-2 mb-0&quot;&gt;{$content}&lt;/h1&gt;
    &lt;small&gt;Tickets&lt;/small&gt;
&lt;/div&gt;
HTML
        );
    }
}
</code></pre>
<h4 id="height">设置高度 (height)</h4>
<p>通过<code>height</code>方法可以设置卡片的最小高度，默认<code>165</code>。</p>
<pre><code class="language-php">protected function init()
{
    parent::init();

    $this-&gt;height(200);
}
</code></pre>
<h4 id="parameters">传递自定义参数 (parameters)</h4>
<p>通过 <code>parameters</code> 方法可以把参数传递到 <code>handle</code> 方法</p>
<pre><code class="language-php">// 传递自定义参数到 handle 方法
public function parameters() : array
{
    return [
        'key1' =&gt; 'value1',

        ...
    ];
}
</code></pre>
<p>获取自定义参数</p>
<pre><code class="language-php">public function handle(Request $request)
{
    // 获取自定义参数
    $key1 = $request-&gt;get('key1');
}
</code></pre>
<h4 id="rendercontent">渲染内容 (renderContent)</h4>
<p>为了保证内容的灵活和可扩展性，系统没有对卡片内容预设任何样式(即设置什么内容就只显示什么内容，没有预设布局或其他样式)，
通过<code>renderContent</code>方法即可以更改卡片默认的渲染方式。</p>
<p>以下的例子演示了<code>renderContent</code>方法的主要功能</p>
<pre><code class="language-php">use Dcat\Admin\Support\Helper;

class MyCard extend Card
{
    protected $footer;

    protected function init()
    {
        parent::init();

        // 设置卡片内容
        $this-&gt;content(...);
        // 设置卡片底部内容
        $this-&gt;footer(...);
    }

    /**
     * 增加此方法设置卡片底部内容
     *
     * @return $this
     */
    public function footer($footer)
    {
        $this-&gt;footer = $footer;

        return $this;
    }

    /**
     * 渲染底部内容
     *
     * @return $this
     */
    public function renderFooter()
    {
        return Helper::render($this-&gt;footer);
    }

    /**
     * 渲染卡片内容
     * 在这里即可加上卡片底部内容
     *
     * @return string
     */
    public function renderContent()
    {
        $content = parent::renderContent();
        $footer = $this-&gt;renderFooter();

        return &lt;&lt;&lt;HTML
&lt;div class=&quot;card-content&quot;&gt;
    &lt;div class=&quot;row&quot;&gt;
        {$content}
    &lt;/div&gt;
    &lt;div class=&quot;metric-footer&quot;&gt;
        {$footer}
    &lt;/div&gt;
&lt;/div&gt;
HTML;      
    }
}
</code></pre>
<h4 id="_5">启用以及渲染图表</h4>
<p>基本卡片默认是启用图表功能的，通过<code>useChart</code>方法可以启用图表功能，调用此方法之后会实例化一个图表类，然后保存在<code>chart</code>属性当中。</p>
<p>当图表启用之后，还需要在你的卡片内容中渲染图表，否则图表虽然被初始化了，但是仍无法显示。</p>
<pre><code class="language-php">class MyCard extend Card
{
    protected function init()
    {
        parent::init();

        // 启用图表
        $this-&gt;useChart();
    }

    /**
     * 渲染卡片内容
     * 需要在这里加上渲染图表的代码
     *
     * @return string
     */
    public function renderContent()
    {
        // 通过 content 方法设置的内容
        $content = parent::renderContent();

        // 渲染图表
        $chart = $this-&gt;renderChart();

        return &lt;&lt;&lt;HTML
    &lt;div class=&quot;my-chart&quot;&gt;{$chart}&lt;/div&gt;
    {$content}    
HTML           
    }
}
</code></pre>
<h4 id="defaultchartoptions">图表默认配置 (defaultChartOptions)</h4>
<p>通过<code>defaultChartOptions</code>方法可以设置图表默认配置，此方法只有启用图表之后才有效。</p>
<blockquote>
<p>{tip} 这里的图表配置同样支持设置可执行<code>JS</code>代码，详细用法请参考<a href="../widgets-charts/#js">图表配置设置可执行JS代码</a>。</p>
</blockquote>
<pre><code class="language-php">class MyCard extend Card
{
    protected function defaultChartOptions()
    {
        // 返回图表的配置
        return [
            ...
        ];
    }
}
</code></pre>
<h4 id="chart">设置图表 (chart)</h4>
<p>通过<code>chart</code>方法可以设置图表配置。</p>
<blockquote>
<p>{tip} 这里的图表配置同样支持设置可执行<code>JS</code>代码，详细用法请参考<a href="../widgets-charts/#js">图表配置设置可执行JS代码</a>。</p>
</blockquote>
<pre><code class="language-php">class MyCard extend Card
{
    protected function init()
    {
        parent::init();

        $this-&gt;chart([...]);
    }
}
</code></pre>
<h4 id="chartoption">设置图表配置 (chartOption)</h4>
<p>通过<code>chartOption</code>方法可以设置图表配置，此方法一次只能设置一个参数，支持设置多维参数。</p>
<blockquote>
<p>{tip} 这里的图表配置同样支持设置可执行<code>JS</code>代码，详细用法请参考<a href="../widgets-charts/#js">图表配置设置可执行JS代码</a>。</p>
</blockquote>
<pre><code class="language-php">class MyCard extend Card
{
    protected function init()
    {
        parent::init();

        $this-&gt;chartOption('stroke.curve', 'smooth');
        $this-&gt;chartOption(
            'plotOptions.radialBar.dataLabels.total.formatter',
            // 这个值最后段代码会作为JS代码执行
            JavaScript::make(&quot;function () { return {$number}; }&quot;)
        );
    }
}
</code></pre>
<h4 id="chartheight">设置图表高度 (chartHeight)</h4>
<p>通过<code>chartHeight</code>方法可以设置图表的高度，这个方法非常重要，经常需要结合<code>height</code>方法一起使用，调整卡片的整体高度。</p>
<pre><code class="language-php">class MyCard extend Card
{
    protected function init()
    {
        parent::init();

        $this-&gt;chartHeight(150);
    }
}
</code></pre>
<h4 id="chartmargintop">设置图表上间距 (chartMarginTop)</h4>
<p>通过<code>chartMarginTop</code>方法可以设置图表与上级元素的间距，此方法接受一个<code>int</code>类型参数，可以传<code>负数</code>。</p>
<pre><code class="language-php">class MyCard extend Card
{
    protected function init()
    {
        parent::init();

        $this-&gt;chartMarginTop(-10);
    }
}
</code></pre>
<h4 id="chartmarginbottom">设置图表下间距 (chartMarginBottom)</h4>
<p>通过<code>chartMarginBottom</code>方法可以设置图表与下级元素的间距，此方法接受一个<code>int</code>类型参数，可以传<code>负数</code>。</p>
<pre><code class="language-php">class MyCard extend Card
{
    protected function init()
    {
        parent::init();

        $this-&gt;chartMarginBottom(10);
    }
}
</code></pre>
<h4 id="chartlabels">设置图表标签 (chartLabels)</h4>
<p>通过<code>chartLabels</code>方法可以设置图表的标签(<code>labels</code>)配置。</p>
<pre><code class="language-php">class MyCard extend Card
{
    protected function init()
    {
        parent::init();

        $this-&gt;chartLabels('标签1');

        // 也可以传递数组
        $this-&gt;chartLabels(['标签1']);
    }
}
</code></pre>
<h4 id="chartcolors">设置图表颜色 (chartColors)</h4>
<p>通过<code>chartColors</code>方法可以设置图表的颜色(<code>colors</code>)配置。</p>
<pre><code class="language-php">class MyCard extend Card
{
    protected function init()
    {
        parent::init();

        $this-&gt;chartColors('#4f41a1');

        // 也可以传递数组
        $this-&gt;chartColors(['#4f41a1']);
    }
}
</code></pre>
<h4 id="renderchart">渲染图表 (renderChart)</h4>
<p>通过<code>renderChart</code>方法可以渲染图表。</p>
<pre><code class="language-php">class MyCard extend Card
{
    protected function init()
    {
        parent::init();

        // 启用图表
        $this-&gt;useChart();
    }

    /**
     * 渲染卡片内容
     * 需要在这里加上渲染图表的代码
     *
     * @return string
     */
    public function renderContent()
    {
        // 通过 content 方法设置的内容
        $content = parent::renderContent();

        // 渲染图表
        $chart = $this-&gt;renderChart();

        return &lt;&lt;&lt;HTML
    &lt;div class=&quot;my-chart&quot;&gt;{$chart}&lt;/div&gt;
    {$content}    
HTML           
    }
}
</code></pre>
<h2 id="line">线性趋势图卡片 (Line)</h2>
<p>线性趋势图卡片(<code>Dcat\Admin\Widgets\Metrics\Line</code>)是一个附带了折线\曲线图的数据统计卡片，继承自基础卡片<code>Dcat\Admin\Widgets\Metrics\Card</code>。</p>
<p><a href="{{public}}/assets/img/screenshots/card-line.png" target="_blank">
    <img src="{{public}}/assets/img/screenshots/card-line.png"  style="box-shadow:0 1px 6px 1px rgba(0, 0, 0, 0.12)" width="100%" >
</a></p>
<h3 id="_6">示例</h3>
<p>可参考内置的<code>App\Admin\Metrics\Examples\NewUsers</code>类。</p>
<pre><code class="language-php">&lt;?php

namespace App\Admin\Metrics\Examples;

use Dcat\Admin\Widgets\Metrics\Line;
use Illuminate\Http\Request;

class NewUsers extends Line
{
    /**
     * @var string
     */
    protected $label = 'New Users';

    /**
     * 初始化卡片内容
     *
     * @return void
     */
    protected function init()
    {
        parent::init();

        $this-&gt;title($this-&gt;label);
        $this-&gt;dropdown([
            '7' =&gt; 'Last 7 Days',
            '28' =&gt; 'Last 28 Days',
            '30' =&gt; 'Last Month',
            '365' =&gt; 'Last Year',
        ]);
    }

    /**
     * 处理请求
     *
     * @param Request $request
     *
     * @return mixed|void
     */
    public function handle(Request $request)
    {
        $generator = function ($len, $min = 10, $max = 300) {
            for ($i = 0; $i &lt;= $len; $i++) {
                yield mt_rand($min, $max);
            }
        };

        switch ($request-&gt;get('option')) {
            case '365':
                // 卡片内容
                $this-&gt;withContent(mt_rand(1000, 5000).'k');
                // 图表数据
                $this-&gt;withChart(collect($generator(30))-&gt;toArray());
                // 直线
                break;
            case '30':
                // 卡片内容
                $this-&gt;withContent(mt_rand(400, 1000).'k');
                // 图表数据
                $this-&gt;withChart(collect($generator(30))-&gt;toArray());
                // 直线
                break;
            case '28':
                // 卡片内容
                $this-&gt;withContent(mt_rand(400, 1000).'k');
                // 图表数据
                $this-&gt;withChart(collect($generator(28))-&gt;toArray());
                // 直线
                break;
            case '7':
            default:
                // 卡片内容
                $this-&gt;withContent('89.2k');
                // 图表数据
                $this-&gt;withChart([28, 40, 36, 52, 38, 60, 55,]);
        }
    }

    /**
     * 设置图表数据.
     *
     * @param array $data
     *
     * @return $this
     */
    public function withChart(array $data)
    {
        return $this-&gt;chart([
            'series' =&gt; [
                [
                    'name' =&gt; $this-&gt;label,
                    'data' =&gt; $data,
                ],
            ],
        ]);
    }

    /**
     * 设置卡片内容.
     *
     * @param string $content
     *
     * @return $this
     */
    public function withContent($content)
    {
        return $this-&gt;content(
            &lt;&lt;&lt;HTML
&lt;div class=&quot;d-flex justify-content-between align-items-center mt-1&quot; style=&quot;margin-bottom: 2px&quot;&gt;
    &lt;h2 class=&quot;ml-1 font-large-1&quot;&gt;{$content}&lt;/h2&gt;
    &lt;span class=&quot;mb-0 mr-1 text-80&quot;&gt;{$this-&gt;label}&lt;/span&gt;
&lt;/div&gt;
HTML
        );
    }
}
</code></pre>
<h3 id="_7">方法</h3>
<h4 id="chartstraight">设置线条为直线 (chartStraight)</h4>
<pre><code class="language-php">use Dcat\Admin\Widgets\Metrics\Line;

class MyCard extend Line
{
    protected function init()
    {
        parent::init();

        $this-&gt;chartStraight();
    }
}
</code></pre>
<h4 id="chartsmooth">设置线条为曲线 (chartSmooth)</h4>
<p>默认显示的是曲线。</p>
<pre><code class="language-php">use Dcat\Admin\Widgets\Metrics\Line;

class MyCard extend Line
{
    protected function init()
    {
        parent::init();

        $this-&gt;chartSmooth();
    }
}
</code></pre>
<h2 id="donut">圆环图卡片 (Donut)</h2>
<p>圆环图卡片(<code>Dcat\Admin\Widgets\Metrics\Donut</code>)是一个附带了圆环图的数据统计卡片，继承自基础卡片<code>Dcat\Admin\Widgets\Metrics\Card</code>。</p>
<p><a href="{{public}}/assets/img/screenshots/card-donut.png" target="_blank">
    <img src="{{public}}/assets/img/screenshots/card-donut.png"  style="box-shadow:0 1px 6px 1px rgba(0, 0, 0, 0.12)" width="100%" >
</a></p>
<h3 id="_8">示例</h3>
<p>可参考内置的<code>App\Admin\Metrics\Examples\NewDevices</code>类。</p>
<pre><code class="language-php">&lt;?php

namespace App\Admin\Metrics\Examples;

use Dcat\Admin\Admin;
use Dcat\Admin\Widgets\Metrics\Donut;

class NewDevices extends Donut
{
    protected $labels = ['Desktop', 'Mobile'];

    /**
     * 初始化卡片内容
     */
    protected function init()
    {
        parent::init();

        $color = Admin::color();
        $colors = [$color-&gt;primary(), $color-&gt;alpha('blue2', 0.5)];

        $this-&gt;title('New Devices');
        $this-&gt;subTitle('Last 30 days');
        $this-&gt;chartLabels($this-&gt;labels);
        // 设置图表颜色
        $this-&gt;chartColors($colors);
    }

    /**
     * 渲染模板
     *
     * @return string
     */
    public function render()
    {
        $this-&gt;fill();

        return parent::render();
    }

    /**
     * 写入数据.
     *
     * @return void
     */
    public function fill()
    {
        $this-&gt;withContent(44.9, 28.6);

        // 图表数据
        $this-&gt;withChart([44.9, 28.6]);
    }

    /**
     * 设置图表数据.
     *
     * @param array $data
     *
     * @return $this
     */
    public function withChart(array $data)
    {
        return $this-&gt;chart([
            'series' =&gt; $data
        ]);
    }

    /**
     * 设置卡片头部内容.
     *
     * @param mixed $desktop
     * @param mixed $mobile
     *
     * @return $this
     */
    protected function withContent($desktop, $mobile)
    {
        $blue = Admin::color()-&gt;alpha('blue2', 0.5);

        $style = 'margin-bottom: 8px';
        $labelWidth = 120;

        return $this-&gt;content(
            &lt;&lt;&lt;HTML
&lt;div class=&quot;d-flex pl-1 pr-1 pt-1&quot; style=&quot;{$style}&quot;&gt;
    &lt;div style=&quot;width: {$labelWidth}px&quot;&gt;
        &lt;i class=&quot;fa fa-circle text-primary&quot;&gt;&lt;/i&gt; {$this-&gt;labels[0]}
    &lt;/div&gt;
    &lt;div&gt;{$desktop}&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;d-flex pl-1 pr-1&quot; style=&quot;{$style}&quot;&gt;
    &lt;div style=&quot;width: {$labelWidth}px&quot;&gt;
        &lt;i class=&quot;fa fa-circle&quot; style=&quot;color: $blue&quot;&gt;&lt;/i&gt; {$this-&gt;labels[1]}
    &lt;/div&gt;
    &lt;div&gt;{$mobile}&lt;/div&gt;
&lt;/div&gt;
HTML
        );
    }
}
</code></pre>
<h3 id="_9">方法</h3>
<h4 id="contentwidth">设置内容宽度 (contentWidth)</h4>
<p>通过<code>contentWidth</code>方法可以设置文本内容以及图表内容的宽度，默认为<code>[6, 6]</code>。</p>
<blockquote>
<p>{tip} 这里的宽度是一个<code>1-12</code>之间的一个值。</p>
</blockquote>
<pre><code class="language-php">use Dcat\Admin\Widgets\Metrics\Line;

class MyCard extend Line
{
    protected function init()
    {
        parent::init();

        $this-&gt;contentWidth(4, 8);
    }
}
</code></pre>
<h2 id="bar">柱状图卡片 (Bar)</h2>
<p>柱状图卡片(<code>Dcat\Admin\Widgets\Metrics\Bar</code>)是一个附带了柱状图的数据统计卡片，继承自基础卡片<code>Dcat\Admin\Widgets\Metrics\Card</code>。</p>
<p><a href="{{public}}/assets/img/screenshots/card-bar.png" target="_blank">
    <img src="{{public}}/assets/img/screenshots/card-bar.png"  style="box-shadow:0 1px 6px 1px rgba(0, 0, 0, 0.12)" width="100%" >
</a></p>
<h3 id="_10">示例</h3>
<p>可参考内置的<code>App\Admin\Metrics\Examples\NewDevices</code>类。</p>
<pre><code class="language-php">&lt;?php

namespace App\Admin\Metrics\Examples;

use Dcat\Admin\Admin;
use Dcat\Admin\Widgets\Metrics\Bar;
use Illuminate\Http\Request;

class Sessions extends Bar
{
    /**
     * 初始化卡片内容
     */
    public function init()
    {
        parent::init();

        $color = Admin::color();

        $dark35 = $color-&gt;dark35();

        // 卡片内容宽度
        $this-&gt;contentWidth(5, 7);
        // 标题
        $this-&gt;title('Avg Sessions');
        // 设置下拉选项
        $this-&gt;dropdown([
            '7' =&gt; 'Last 7 Days',
            '28' =&gt; 'Last 28 Days',
            '30' =&gt; 'Last Month',
            '365' =&gt; 'Last Year',
        ]);
        // 设置图表颜色
        $this-&gt;chartColors([
            $dark35,
            $dark35,
            $color-&gt;primary(),
            $dark35,
            $dark35,
            $dark35
        ]);
    }

    /**
     * 处理请求
     *
     * @param Request $request
     *
     * @return mixed|void
     */
    public function handle(Request $request)
    {
        switch ($request-&gt;get('option')) {
            case '7':
            default:
                // 卡片内容
                $this-&gt;withContent('2.7k', '+5.2%');

                // 图表数据
                $this-&gt;withChart([
                    [
                        'name' =&gt; 'Sessions',
                        'data' =&gt; [75, 125, 225, 175, 125, 75, 25],
                    ],
                ]);
        }
    }

    /**
     * 设置图表数据.
     *
     * @param array $data
     *
     * @return $this
     */
    public function withChart(array $data)
    {
        return $this-&gt;chart([
            'series' =&gt; $data,
        ]);
    }

    /**
     * 设置卡片内容.
     *
     * @param string $title
     * @param string $value
     * @param string $style
     *
     * @return $this
     */
    public function withContent($title, $value, $style = 'success')
    {
        // 根据选项显示
        $label = strtolower(
            $this-&gt;dropdown[request()-&gt;option] ?? 'last 7 days'
        );

        $minHeight = '183px';

        return $this-&gt;content(
            &lt;&lt;&lt;HTML
&lt;div class=&quot;d-flex p-1 flex-column justify-content-between&quot; style=&quot;padding-top: 0;width: 100%;height: 100%;min-height: {$minHeight}&quot;&gt;
    &lt;div class=&quot;text-left&quot;&gt;
        &lt;h1 class=&quot;font-large-2 mt-2 mb-0&quot;&gt;{$title}&lt;/h1&gt;
        &lt;h5 class=&quot;font-medium-2&quot; style=&quot;margin-top: 10px;&quot;&gt;
            &lt;span class=&quot;text-{$style}&quot;&gt;{$value} &lt;/span&gt;
            &lt;span&gt;vs {$label}&lt;/span&gt;
        &lt;/h5&gt;
    &lt;/div&gt;

    &lt;a href=&quot;#&quot; class=&quot;btn btn-primary shadow waves-effect waves-light&quot;&gt;View Details &lt;i class=&quot;feather icon-chevrons-right&quot;&gt;&lt;/i&gt;&lt;/a&gt;
&lt;/div&gt;
HTML
        );
    }
}
</code></pre>
<h2 id="round">多环形图卡片 (Round)</h2>
<p>柱状图卡片(<code>Dcat\Admin\Widgets\Metrics\Round</code>)是一个附带了多环形图的数据统计卡片，继承自基础卡片<code>Dcat\Admin\Widgets\Metrics\Card</code>。</p>
<p><a href="{{public}}/assets/img/screenshots/card-ra.png" target="_blank">
    <img src="{{public}}/assets/img/screenshots/card-ra.png"  style="box-shadow:0 1px 6px 1px rgba(0, 0, 0, 0.12)" width="100%" >
</a></p>
<h3 id="_11">示例</h3>
<p>具体示例与上述卡片的示例大同小异，具体可参考内置的<code>App\Admin\Metrics\Examples\ProductOrders</code>类，这里不再贴出。</p>
<h2 id="_12">更多内置卡片</h2>
<p>系统还内置了<code>Dcat\Admin\Widgets\Metrics\RadialBar</code>、<code>Dcat\Admin\Widgets\Metrics\SingleRound</code>等卡片，由于用法与上述卡片雷同，这里不再重复贴出代码。</p>
<p><a href="http://103.39.211.179:8080/admin/components/metric-cards">点击我查看所有内置卡片在线演示</a></p>
<h2 id="_13">自定义图表卡片</h2>
<p>如需自定义卡片，可参考上述内置图表的代码。</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/jquery-3.6.0.min.js"></script>
        <script src="../../js/bootstrap.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
