<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>表格基本使用 - My Docs</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">My Docs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Welcome to MkDocs</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">2.x <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../" class="dropdown-item">dcat-admin</a>
</li>
                                    
<li>
    <a href="../1-x-upgrade/" class="dropdown-item">v1.x版本升级指南</a>
</li>
                                    
<li>
    <a href="../LICENSE/" class="dropdown-item">LICENSE</a>
</li>
                                    
<li>
    <a href="../action-form/" class="dropdown-item">数据表单动作</a>
</li>
                                    
<li>
    <a href="../action-grid/" class="dropdown-item">数据表格动作</a>
</li>
                                    
<li>
    <a href="../action-show/" class="dropdown-item">数据详情动作</a>
</li>
                                    
<li>
    <a href="../action-tree/" class="dropdown-item">模型树动作</a>
</li>
                                    
<li>
    <a href="../action/" class="dropdown-item">动作基本使用</a>
</li>
                                    
<li>
    <a href="../assets/" class="dropdown-item">静态资源加载</a>
</li>
                                    
<li>
    <a href="../beta-change-log/" class="dropdown-item">BETA版本更新日志</a>
</li>
                                    
<li>
    <a href="../change-log/" class="dropdown-item">Change log</a>
</li>
                                    
<li>
    <a href="../custom-authentication/" class="dropdown-item">自定义登陆</a>
</li>
                                    
<li>
    <a href="../custom-chart/" class="dropdown-item">自定义图表</a>
</li>
                                    
<li>
    <a href="../custom-navbar/" class="dropdown-item">自定义头部导航条</a>
</li>
                                    
<li>
    <a href="../custom-page/" class="dropdown-item">视图与自定义页面</a>
</li>
                                    
<li>
    <a href="../documentation/" class="dropdown-item">Documentation</a>
</li>
                                    
<li>
    <a href="../extend/" class="dropdown-item">开发扩展</a>
</li>
                                    
<li>
    <a href="../extension-dev/" class="dropdown-item">开发扩展</a>
</li>
                                    
<li>
    <a href="../extension-f/" class="dropdown-item">扩展基本使用</a>
</li>
                                    
<li>
    <a href="../extension-helpers/" class="dropdown-item">开发工具</a>
</li>
                                    
<li>
    <a href="../extension-theme/" class="dropdown-item">主题开发</a>
</li>
                                    
<li>
    <a href="../extension-upgrade/" class="dropdown-item">扩展版本与升级</a>
</li>
                                    
<li>
    <a href="../extensions/" class="dropdown-item">扩展</a>
</li>
                                    
<li>
    <a href="../function/" class="dropdown-item">帮助函数</a>
</li>
                                    
<li>
    <a href="../helpers/" class="dropdown-item">开发工具</a>
</li>
                                    
<li>
    <a href="../installation/" class="dropdown-item">安装</a>
</li>
                                    
<li>
    <a href="../introduction/" class="dropdown-item">Dcat Admin</a>
</li>
                                    
<li>
    <a href="../js/" class="dropdown-item">JS组件</a>
</li>
                                    
<li>
    <a href="../laravel-octane/" class="dropdown-item">Laravel Octane</a>
</li>
                                    
<li>
    <a href="../lazy/" class="dropdown-item">异步加载基本使用</a>
</li>
                                    
<li>
    <a href="../menu/" class="dropdown-item">菜单</a>
</li>
                                    
<li>
    <a href="../model-form-callback/" class="dropdown-item">表单回调</a>
</li>
                                    
<li>
    <a href="../model-form-data/" class="dropdown-item">表单数据源</a>
</li>
                                    
<li>
    <a href="../model-form-field-management/" class="dropdown-item">表单字段的管理</a>
</li>
                                    
<li>
    <a href="../model-form-fields/" class="dropdown-item">表单字段的使用</a>
</li>
                                    
<li>
    <a href="../model-form-init/" class="dropdown-item">表单初始化</a>
</li>
                                    
<li>
    <a href="../model-form-layout/" class="dropdown-item">表单布局</a>
</li>
                                    
<li>
    <a href="../model-form-modal/" class="dropdown-item">表单弹窗</a>
</li>
                                    
<li>
    <a href="../model-form-step/" class="dropdown-item">分步表单</a>
</li>
                                    
<li>
    <a href="../model-form-trans/" class="dropdown-item">表单字段翻译</a>
</li>
                                    
<li>
    <a href="../model-form-upload/" class="dropdown-item">图片/文件上传</a>
</li>
                                    
<li>
    <a href="../model-form-validation/" class="dropdown-item">表单验证</a>
</li>
                                    
<li>
    <a href="../model-form-when/" class="dropdown-item">表单字段动态显示</a>
</li>
                                    
<li>
    <a href="../model-form/" class="dropdown-item">表单基本使用</a>
</li>
                                    
<li>
    <a href="../model-grid-actions/" class="dropdown-item">行的使用和扩展</a>
</li>
                                    
<li>
    <a href="../model-grid-async/" class="dropdown-item">表格异步渲染</a>
</li>
                                    
<li>
    <a href="../model-grid-column-display/" class="dropdown-item">列的显示和扩展</a>
</li>
                                    
<li>
    <a href="../model-grid-column-filter/" class="dropdown-item">列过滤器</a>
</li>
                                    
<li>
    <a href="../model-grid-column/" class="dropdown-item">列的基本使用</a>
</li>
                                    
<li>
    <a href="../model-grid-combination/" class="dropdown-item">组合表头</a>
</li>
                                    
<li>
    <a href="../model-grid-custom-tools/" class="dropdown-item">工具栏</a>
</li>
                                    
<li>
    <a href="../model-grid-data/" class="dropdown-item">表格数据源</a>
</li>
                                    
<li>
    <a href="../model-grid-editable/" class="dropdown-item">数据表格行内编辑</a>
</li>
                                    
<li>
    <a href="../model-grid-events/" class="dropdown-item">数据表格事件</a>
</li>
                                    
<li>
    <a href="../model-grid-export/" class="dropdown-item">数据导出</a>
</li>
                                    
<li>
    <a href="../model-grid-exporter/" class="dropdown-item">自定义导出</a>
</li>
                                    
<li>
    <a href="../model-grid-filters/" class="dropdown-item">查询过滤</a>
</li>
                                    
<li>
    <a href="../model-grid-header/" class="dropdown-item">头部和脚部</a>
</li>
                                    
<li>
    <a href="../model-grid-quick-create/" class="dropdown-item">快捷创建</a>
</li>
                                    
<li>
    <a href="../model-grid-quick-search/" class="dropdown-item">表格快捷搜索</a>
</li>
                                    
<li>
    <a href="../model-grid-relationship/" class="dropdown-item">表格关联关系</a>
</li>
                                    
<li>
    <a href="../model-grid-selector/" class="dropdown-item">表格规格筛选器</a>
</li>
                                    
<li>
    <a href="../model-grid-softdelete/" class="dropdown-item">数据软删除</a>
</li>
                                    
<li>
    <a href="../model-grid-trans/" class="dropdown-item">表格字段翻译</a>
</li>
                                    
<li>
    <a href="../model-grid-tree/" class="dropdown-item">树状表格</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">表格基本使用</a>
</li>
                                    
<li>
    <a href="../model-json/" class="dropdown-item">JSON格式字段处理</a>
</li>
                                    
<li>
    <a href="../model-relationship/" class="dropdown-item">表单关联关系</a>
</li>
                                    
<li>
    <a href="../model-repository/" class="dropdown-item">数据仓库</a>
</li>
                                    
<li>
    <a href="../model-show-extend/" class="dropdown-item">详情字段显示扩展</a>
</li>
                                    
<li>
    <a href="../model-show-field/" class="dropdown-item">字段显示</a>
</li>
                                    
<li>
    <a href="../model-show-init/" class="dropdown-item">数据详情初始化</a>
</li>
                                    
<li>
    <a href="../model-show-relation/" class="dropdown-item">关联关系</a>
</li>
                                    
<li>
    <a href="../model-show-trans/" class="dropdown-item">数据详情字段翻译</a>
</li>
                                    
<li>
    <a href="../model-show/" class="dropdown-item">数据详情基本使用</a>
</li>
                                    
<li>
    <a href="../model-tree/" class="dropdown-item">模型树</a>
</li>
                                    
<li>
    <a href="../multi-app/" class="dropdown-item">多应用 (多后台)</a>
</li>
                                    
<li>
    <a href="../notice/" class="dropdown-item">开发前必读</a>
</li>
                                    
<li>
    <a href="../permission/" class="dropdown-item">权限控制</a>
</li>
                                    
<li>
    <a href="../qa/" class="dropdown-item">常见问题汇总</a>
</li>
                                    
<li>
    <a href="../quick-start/" class="dropdown-item">快速开始</a>
</li>
                                    
<li>
    <a href="../response/" class="dropdown-item">动作以及表单响应</a>
</li>
                                    
<li>
    <a href="../section/" class="dropdown-item">区块（section）</a>
</li>
                                    
<li>
    <a href="../theme/" class="dropdown-item">主题与颜色</a>
</li>
                                    
<li>
    <a href="../trans/" class="dropdown-item">多语言</a>
</li>
                                    
<li>
    <a href="../update/" class="dropdown-item">版本升级须知</a>
</li>
                                    
<li>
    <a href="../widgets-alert/" class="dropdown-item">警告框</a>
</li>
                                    
<li>
    <a href="../widgets-box/" class="dropdown-item">卡片</a>
</li>
                                    
<li>
    <a href="../widgets-charts/" class="dropdown-item">图表</a>
</li>
                                    
<li>
    <a href="../widgets-checkbox/" class="dropdown-item">单/复选框</a>
</li>
                                    
<li>
    <a href="../widgets-data-card/" class="dropdown-item">数据统计卡片</a>
</li>
                                    
<li>
    <a href="../widgets-dialog-form/" class="dropdown-item">Widgets dialog form</a>
</li>
                                    
<li>
    <a href="../widgets-dropdown/" class="dropdown-item">下拉菜单</a>
</li>
                                    
<li>
    <a href="../widgets-form/" class="dropdown-item">工具表单</a>
</li>
                                    
<li>
    <a href="../widgets-js/" class="dropdown-item">Widgets js</a>
</li>
                                    
<li>
    <a href="../widgets-markdown/" class="dropdown-item">Markdown</a>
</li>
                                    
<li>
    <a href="../widgets-modal/" class="dropdown-item">模态窗 (Modal)</a>
</li>
                                    
<li>
    <a href="../widgets-navbar/" class="dropdown-item">Widgets navbar</a>
</li>
                                    
<li>
    <a href="../widgets-tab/" class="dropdown-item">选项卡</a>
</li>
                                    
<li>
    <a href="../widgets-table/" class="dropdown-item">Widgets table</a>
</li>
                                    
<li>
    <a href="../widgets-tooltip/" class="dropdown-item">提示窗</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../model-grid-tree/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../model-json/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#_1" class="nav-link">表格基本使用</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#_2" class="nav-link">简单示例</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#_3" class="nav-link">表格显示模式</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#_5" class="nav-link">基本使用方法</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#_18" class="nav-link">关联模型</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="_1">表格基本使用</h1>
<h2 id="_2">简单示例</h2>
<p><code>Dcat\Admin\Grid</code>类用于生成基于数据模型的表格，先来个例子，数据库中有<code>movies</code>表</p>
<pre><code class="language-sql">CREATE TABLE `movies` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `title` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `director` int(10) unsigned NOT NULL,
  `describe` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `rate` tinyint unsigned NOT NULL,
  `released` enum(0, 1),
  `release_at` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `created_at` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `updated_at` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

</code></pre>
<p>对应的数据模型为<code>App\Models\Movie</code>，对应的数据仓库为<code>App\Admin\Repositories\Movie</code>，数据仓库代码如下：</p>
<blockquote>
<p>{tip} 如果你的数据来自<code>MySQL</code>，则<code>数据仓库</code>不是必须的，你也可以直接使用<code>Model</code>。</p>
</blockquote>
<pre><code class="language-php">&lt;?php

namespace App\Admin\Repositories;

use Dcat\Admin\Repositories\EloquentRepository;
use App\Models\Movie as MovieModel;

class Movie extends EloquentRepository
{
    protected $eloquentClass = MovieModel::class;

    /**
     * 设置表格查询的字段，默认查询所有字段
     * 
     * @return array
     */
    public function getGridColumns(){
        return ['id', 'title', 'director', 'rate', ...];
    }
}
</code></pre>
<p>下面的代码可以生成表<code>movies</code>的数据表格：</p>
<pre><code class="language-php">&lt;?php

namespace App\Admin\Controllers;

use App\Admin\Repositories\Movie;
use Dcat\Admin\Grid;
use Dcat\Admin\Controllers\AdminController;

class MovieController extends AdminController
{
    protected function grid()
    {
        return Grid::make(new Movie(), function (Grid $grid) {
            // 第一列显示id字段，并将这一列设置为可排序列
            $grid-&gt;column('id', 'ID')-&gt;sortable();

            // 第二列显示title字段，由于title字段名和Grid对象的title方法冲突，所以用Grid的column()方法代替
            $grid-&gt;column('title');

            // 第三列显示director字段，通过display($callback)方法设置这一列的显示内容为users表中对应的用户名
            $grid-&gt;column('director')-&gt;display(function($userId) {
                return User::find($userId)-&gt;name;
            });

            // 第四列显示为describe字段
            $grid-&gt;column('describe');

            // 第五列显示为rate字段
            $grid-&gt;column('rate');

            // 第六列显示released字段，通过display($callback)方法来格式化显示输出
            $grid-&gt;column('released', '上映?')-&gt;display(function ($released) {
                return $released ? '是' : '否';
            });

            // 下面为三个时间字段的列显示
            $grid-&gt;column('release_at');
            $grid-&gt;column('created_at');
            $grid-&gt;column('updated_at');

            // filter($callback)方法用来设置表格的简单搜索框
            $grid-&gt;filter(function ($filter) {
                // 设置created_at字段的范围查询
                $filter-&gt;between('created_at', 'Created Time')-&gt;datetime();
            });
        });
    }
}
</code></pre>
<h2 id="_3">表格显示模式</h2>
<h3 id="table_collapse">table_collapse</h3>
<p>在这个版本开始，默认的表格布局将会采用 <code>table_collapse</code> 模式，效果如下</p>
<p><a href="https://cdn.learnku.com/uploads/images/202007/24/38389/4bCfBdtvq5.png!large" target="_blank">
    <img class="img" src="https://cdn.learnku.com/uploads/images/202007/24/38389/4bCfBdtvq5.png!large" />
</a>
<a href="https://cdn.learnku.com/uploads/images/202007/24/38389/35KJXfVXib.png!large" target="_blank">
    <img class="img" src="https://cdn.learnku.com/uploads/images/202007/24/38389/35KJXfVXib.png!large" />
</a>    </p>
<p>如果想要切换回旧版本的表格布局样式，可以在 <code>app/Admin/bootstrap.php</code>中加上</p>
<pre><code class="language-php">Grid::resolving(function (Grid $grid) {
    $grid-&gt;tableCollapse(false);
});
</code></pre>
<h3 id="_4">边框模式</h3>
<p>通过<code>withBorder</code>方式可以让表格显示边框</p>
<pre><code class="language-php">$grid-&gt;withBorder();
</code></pre>
<p>效果
<img alt="" src="https://cdn.learnku.com/uploads/images/202004/26/38389/lKTZe0jwGg.png!large" /></p>
<p>禁用边框模式</p>
<pre><code class="language-php">$grid-&gt;withBorder(false);
</code></pre>
<h2 id="_5">基本使用方法</h2>
<h3 id="column">添加列 (column)</h3>
<pre><code class="language-php">// 添加单列
$grid-&gt;column('username', '用户名');

// 添加多列
$grid-&gt;columns('email', 'username' ...);
</code></pre>
<h3 id="_6">修改来源数据</h3>
<pre><code class="language-php">$grid-&gt;model()-&gt;where('id', '&gt;', 100);

$grid-&gt;model()-&gt;orderBy('profile.age');

// 回收站数据
$grid-&gt;model()-&gt;onlyTrashed();

...
</code></pre>
<p>同时也可以使用以下方式</p>
<pre><code class="language-php">protected function grid()
{
    return Grid::make(Model::with('...')-&gt;where(...), function (Grid $grid) {
        ...
    });
}
</code></pre>
<p>其它查询方法可以参考<code>eloquent</code>的查询方法</p>
<h3 id="display">修改显示输出 (display)</h3>
<pre><code class="language-php">$grid-&gt;column('text')-&gt;display(function($text) {
    return str_limit($text, 30, '...');
});

// 允许混合使用多个“display”方法
$grid-&gt;column('name')-&gt;display(function ($name) {
     return &quot;&lt;b&gt;$name&lt;/b&gt;&quot;;
 })-&gt;display(function ($name) {
    return &quot;&lt;span class='label'&gt;$name&lt;/span&gt;&quot;;
});

$grid-&gt;column('email')-&gt;display(function ($email) {
    return &quot;mailto:$email&quot;;
});

// 可以直接写字符串
$grid-&gt;column('username')-&gt;display('...');

// 添加不存在的字段
$grid-&gt;column('column_not_in_table')-&gt;display(function () {
    return 'blablabla....'.$this-&gt;id;
});
</code></pre>
<h3 id="number">显示序号 (number)</h3>
<p>通过<code>number</code>方法可以在表格中添加一列从<code>1</code>开始计算的行序号列</p>
<pre><code class="language-php">$grid-&gt;number();
</code></pre>
<h3 id="setname">设置名称 (setName)</h3>
<p>当页面存在多个<code>Grid</code>表格时，需要给表格设置不同的名称，否则部分功能可能会出现冲突的情况</p>
<pre><code class="language-php">$grid-&gt;setName('name1');
</code></pre>
<h3 id="row">获取当前行数据 (row)</h3>
<p><code>display()</code>方法接收的匿名函数绑定了当前行的数据对象，可以在里面调用当前行的其它字段数据</p>
<pre><code class="language-php">$grid-&gt;column('first_name');
$grid-&gt;column('last_name');

// 不存的字段列
$grid-&gt;column('full_name')-&gt;display(function () {
    return $this-&gt;first_name.' '.$this-&gt;last_name;
});
</code></pre>
<p><a name="outline"></a></p>
<h3 id="_7">设置工具栏按钮样式</h3>
<p>工具栏按钮默认显示<code>outline</code>模式，效果如下</p>
<p>用法</p>
<pre><code class="language-php">$grid-&gt;toolsWithOutline();

// 禁止
$grid-&gt;toolsWithOutline(false);
</code></pre>
<p>效果
<img alt="" src="https://cdn.learnku.com/uploads/images/202005/23/38389/hKWC1crYHw.png!large" /></p>
<p>禁用<code>outline</code>后的效果</p>
<p><img alt="" src="https://cdn.learnku.com/uploads/images/202005/23/38389/aaMdymSxoY.png!large" /></p>
<p>如果你希望某个按钮不使用<code>outline</code>模式，可以在按钮的<code>class</code>属性中加上<code>disable-outline</code></p>
<pre><code class="language-php">$grid-&gt;tools('&lt;a class=&quot;btn btn-primary disable-outline&quot;&gt;测试按钮&lt;/a&gt;');
</code></pre>
<h3 id="_8">设置创建按钮</h3>
<p>此功能默认开启</p>
<pre><code class="language-php">// 禁用
$grid-&gt;disableCreateButton();
// 显示
$grid-&gt;showCreateButton();
</code></pre>
<h4 id="_9">开启弹窗创建表单</h4>
<p>此功能默认不开启</p>
<pre><code class="language-php">$grid-&gt;enableDialogCreate();

// 设置弹窗宽高，默认值为 '700px', '670px'
$grid-&gt;setDialogFormDimensions('50%', '50%');
</code></pre>
<h3 id="setresource">修改创建以及更新按钮的路由 (setResource)</h3>
<p>设置修改创建以及更新按钮的路由前缀</p>
<pre><code class="language-php">$grid-&gt;setResource('auth/users');
</code></pre>
<h3 id="_10">设置查询过滤器</h3>
<p>此功能默认开启</p>
<pre><code class="language-php">// 禁用
$grid-&gt;disableFilter();
// 显示
$grid-&gt;showFilter();

// 禁用过滤器按钮
$grid-&gt;disableFilterButton();
// 显示过滤器按钮
$grid-&gt;showFilterButton();
</code></pre>
<h3 id="rowselector">行选择器 (rowSelector)</h3>
<pre><code class="language-php">// 禁用
$grid-&gt;disableRowSelector();
// 显示
$grid-&gt;showRowSelector();
</code></pre>
<h4 id="_11">设置选择中行的标题字段</h4>
<p>设置选中后需要显示的字段，如不设置，默认取 <code>name</code>、 <code>title</code>、 <code>username</code>中的一个。</p>
<pre><code class="language-php">$grid-&gt;column('full_name');
$grid-&gt;column('age');

...

$grid-&gt;rowSelector()-&gt;titleColumn('full_name');
</code></pre>
<h4 id="id">设置选择中行的ID字段</h4>
<p>设置选中后需要保存的字段，默认为 数据表主键(id) 字段</p>
<pre><code class="language-php">$grid-&gt;column('new_id');

...

$grid-&gt;rowSelector()-&gt;idColumn('new_id');
</code></pre>
<h4 id="checkbox">设置checkbox选择框颜色</h4>
<p>默认 <code>primary</code>，支持：<code>default</code>、 <code>primary</code>、 <code>success</code>、 <code>info</code>、 <code>danger</code>、 <code>purple</code>、 <code>inverse</code>。</p>
<pre><code class="language-php">$grid-&gt;rowSelector()-&gt;style('success');
</code></pre>
<h4 id="_12">点击当前行任意位置选中</h4>
<p>此功能默认不开启。</p>
<pre><code class="language-php">$grid-&gt;rowSelector()-&gt;click();
</code></pre>
<h4 id="_13">设置选中行的背景颜色</h4>
<pre><code class="language-php">use Dcat\Admin\Admin;

$grid-&gt;rowSelector()-&gt;background(Admin::color()-&gt;dark20());
</code></pre>
<h4 id="check">设置默认选中 (check)</h4>
<blockquote>
<p>Since <code>v2.0.21</code></p>
</blockquote>
<p>通过<code>check</code>方法可以设置默认选中的行，此方法接受一个<code>array</code>类型或<code>匿名函数</code>参数</p>
<pre><code class="language-php">// 设置默认选中第 1/3/5 行
$grid-&gt;rowSelector()-&gt;check([0, 2, 4]);

// 传递闭包
$grid-&gt;rowSelector()-&gt;check(function () {
    // 设置默认选中第 1/3/5 行
    return in_array($this-&gt;_index, [0, 2, 4]);
});

// 在闭包中使用当前行其他字段
$grid-&gt;rowSelector()-&gt;check(function () {
    // 设置默认选中 id &gt; 10 的行
    return $this-&gt;id &gt; 10;
});
</code></pre>
<h4 id="disable">禁止更改选中状态 (disable)</h4>
<blockquote>
<p>Since <code>v2.0.21</code></p>
</blockquote>
<p>通过<code>disable</code>方法可以设置禁止更改选中状态的行，此方法接受一个<code>array</code>类型或<code>匿名函数</code>参数</p>
<pre><code class="language-php">// 禁止第 1/3/5 行更改选中状态
$grid-&gt;rowSelector()-&gt;disable([0, 2, 4]);

// 传递闭包
$grid-&gt;rowSelector()-&gt;disable(function () {
    // 禁止第 1/3/5 行更改选中状态
    return in_array($this-&gt;_index, [0, 2, 4]);
});

// 在闭包中使用当前行其他字段
$grid-&gt;rowSelector()-&gt;disable(function () {
    // 禁止 id &gt; 10 的行更改选中状态
    return $this-&gt;id &gt; 10;
});

// disable 可以和 check 方法一起使用
$grid-&gt;rowSelector()-&gt;check([2, 4])-&gt;disable([0, 2, 4]);
</code></pre>
<h3 id="_14">设置行操作按钮</h3>
<pre><code class="language-php">// 禁用
$grid-&gt;disableActions();
// 显示
$grid-&gt;showActions();

// 禁用详情按钮
$grid-&gt;disableViewButton();
// 显示详情按钮
$grid-&gt;showViewButton();

// 禁用编辑按钮
$grid-&gt;disableEditButton();
// 显示编辑按钮
$grid-&gt;showEditButton();

// 禁用快捷编辑按钮
$grid-&gt;disableQuickEditButton();
// 显示快捷编辑按钮
$grid-&gt;showQuickEditButton();

// 设置弹窗宽高，默认值为 '700px', '670px'
$grid-&gt;setDialogFormDimensions('50%', '50%');


// 禁用删除按钮
$grid-&gt;disableDeleteButton();
// 显示删除按钮
$grid-&gt;showDeleteButton();

</code></pre>
<h3 id="batchactions">设置批量操作按钮 (batchActions)</h3>
<pre><code class="language-php">// 禁用
$grid-&gt;disableBatchActions();
// 显示
$grid-&gt;showBatchActions();

// 禁用批量删除按钮
$grid-&gt;disableBatchDelete();
// 显示批量删除按钮
$grid-&gt;showBatchDelete();
</code></pre>
<h3 id="toolbar">设置工具栏 (toolbar)</h3>
<pre><code class="language-php">// 禁用
$grid-&gt;disableToolbar();
// 显示
$grid-&gt;showToolbar();
</code></pre>
<h3 id="refresh">设置刷新按钮 (refresh)</h3>
<pre><code class="language-php">// 禁用
$grid-&gt;disableRefreshButton();
// 显示
$grid-&gt;showRefreshButton();
</code></pre>
<h3 id="paginate">设置分页功能 (paginate)</h3>
<pre><code class="language-php">// 禁用
$grid-&gt;disablePagination();
// 显示
$grid-&gt;showPagination();
</code></pre>
<h4 id="simplepaginate">简化分页 (simplePaginate)</h4>
<p>启用 <code>simplePaginate</code> 功能后会使用<code>Laravel</code>的<a href="https://laravel.com/docs/8.x/pagination#simple-pagination">simplePaginate</a>功能进行分页，当数据量较大时可以大幅提升页面的响应速度，但需要注意的是，使用此功能后将不会查询数据表的<strong>总行数</strong>。</p>
<pre><code class="language-php">// 启用
$grid-&gt;simplePaginate();

// 禁用
$grid-&gt;simplePaginate(false);
</code></pre>
<h4 id="_15">设置每页显示行数</h4>
<pre><code class="language-php">// 默认为每页20条
$grid-&gt;paginate(15);
</code></pre>
<h4 id="_16">设置分页选择器选项</h4>
<pre><code class="language-php">$grid-&gt;perPages([10, 20, 30, 40, 50]);

// 禁用分页选择器
$grid-&gt;disablePerPages();
</code></pre>
<h3 id="addtableclass">addTableClass</h3>
<p>通过<code>addTableClass</code>可以给表格的<code>table</code>添加<code>css</code>样式</p>
<pre><code class="language-php">$grid-&gt;addTableClass(['class1', 'class2']);
</code></pre>
<h3 id="text-center">设置表格文字居中 (text-center)</h3>
<pre><code class="language-php">$grid-&gt;addTableClass(['table-text-center']);
</code></pre>
<h3 id="scrollbarx">显示横向滚动条 (scrollbarX)</h3>
<p>显示表格横向滚动条，默认不显示</p>
<pre><code class="language-php">// 启用
$grid-&gt;scrollbarX();

// 禁用
$grid-&gt;scrollbarX(false);
</code></pre>
<h3 id="_17">设置表格外层容器</h3>
<pre><code class="language-php"> // 更改表格外层容器
$grid-&gt;wrap(function (Renderable $view) {
    $tab = Tab::make();

    $tab-&gt;add('示例', $view);
    $tab-&gt;add('代码', $this-&gt;code(), true);

    return $tab;
});
</code></pre>
<h2 id="_18">关联模型</h2>
<p>参考<a href="../model-grid-relationship/">表格关联关系</a></p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/jquery-3.6.0.min.js"></script>
        <script src="../../js/bootstrap.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
